System.register("chunks:///_virtual/audioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant2.ts","./storageManager.ts","./resourceUtil.ts","./lodash.ts","./PlayersManager.ts"],(function(s){var o,i,t,u,e,n,a,r,c,d,h,l,f;return{setters:[function(s){o=s.createClass},function(s){i=s.cclegacy,t=s._decorator,u=s.Node,e=s.director,n=s.game,a=s.AudioSource,r=s.AudioClip},function(s){c=s.Constant},function(s){d=s.StorageManager},function(s){h=s.ResourceUtil},function(s){l=s.Lodash},function(s){f=s.PlayersManager}],execute:function(){var p,m;i._RF.push({},"f523eomsvhPT7RFFxN6/s9G","audioManager",void 0);var g=t.ccclass;t.property,s("AudioManager",g("AudioManager")(((m=function(){function s(){this._persistRootNode=null,this._audioSources=[],this.dictWeaponSoundIndex={},this.musicVolume=.8,this.soundVolume=1,this.audios={},this.arrSound=[]}var i=s.prototype;return i.init=function(){this._persistRootNode||(this._persistRootNode=new u("audio"),e.getScene().addChild(this._persistRootNode),n.addPersistRootNode(this._persistRootNode),this.musicVolume=this.getAudioSetting(!0)?.8:0,this.soundVolume=this.getAudioSetting(!1)?1:0)},i._getAudioSource=function(s){for(var o,i=0;i<this._audioSources.length;++i){var t=this._audioSources[i];if(!t.playing){o=t;break}}return o||(o=this._persistRootNode.addComponent(a),this._audioSources.push(o)),o.node.off(a.EventType.ENDED),o.clip=s,o.currentTime=0,o},i.getAudioSetting=function(s){var o;return!(o=s?d.instance.getGlobalData("music"):d.instance.getGlobalData("sound"))||"true"===o},i.playMusic=function(s,o,i){var t=this,u="audio/music/"+s;f.isMusic&&h.loadRes(u,r,(function(u,e){var n=t._getAudioSource(e),a={source:n,isMusic:!0};t.audios[s]=a,n.volume=i||t.musicVolume,n.loop=o,n.play()}))},i.playSound=function(s,o,i){var t=this;if(void 0===o&&(o=!1),this.soundVolume&&f.isMusic){h.loadRes("audio/sound/"+s,r,(function(u,e){var n=t._getAudioSource(e),r={source:n,isMusic:!1};t.arrSound.push(r),o&&(t.audios[s]=r),n.volume=i||t.soundVolume,n.loop=o,n.play(),n.node.on(a.EventType.ENDED,(function(){l.remove(t.arrSound,(function(s){return s.source===r.source}))}))}))}},i.stop=function(s){this.audios.hasOwnProperty(s)&&this.audios[s].source.stop()},i.setBg=function(){for(var s in this.audios)if(this.audios.hasOwnProperty(s)){var o=this.audios[s];if(o.source.clip&&o.source.clip.name==c.AUDIO_MUSIC.BG)return o.source.playing}},i.stopAll=function(){for(var s in this.audios){if(this.audios.hasOwnProperty(s))this.audios[s].source.stop()}},i.getMusicVolume=function(){return this.musicVolume},i.setMusic=function(s){for(var o in this.musicVolume=s,this.audios){if(this.audios.hasOwnProperty(o)&&this.audios[o].isMusic)this.audios[o].source.volume=this.musicVolume}},i.pauseAll=function(){for(var s in this.audios){if(this.audios.hasOwnProperty(s))this.audios[s].source.pause()}},i.resumeAll=function(){for(var s in this.audios){if(this.audios.hasOwnProperty(s))this.audios[s].source.play()}},i.openMusic=function(){this.setMusic(.8),d.instance.setGlobalData("music","true")},i.closeMusic=function(){this.setMusic(0),d.instance.setGlobalData("music","false")},i.openSound=function(){this.setSound(1),d.instance.setGlobalData("sound","true")},i.closeSound=function(){this.setSound(0),d.instance.setGlobalData("sound","false")},i.setSound=function(s){for(var o in this.soundVolume=s,this.audios){if(this.audios.hasOwnProperty(o)&&!this.audios[o].isMusic)this.audios[o].source.volume=this.soundVolume}for(var i=0;i<this.arrSound.length;i++){this.arrSound[i].source.volume=this.soundVolume}},i.stopSingleSound=function(s){this.audios.hasOwnProperty(s)&&!this.audios[s].isMusic&&this.audios[s].source.stop()},o(s,null,[{key:"instance",get:function(){return this._instance||(this._instance=new s),this._instance}}]),s}())._instance=void 0,p=m))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/BulletsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant2.ts","./resourceUtil.ts","./poolManager.ts","./PlayerBullet.ts","./GameStateManager.ts","./EnemiesManager.ts","./clientEvent.ts"],(function(e){var n,t,l,i,s,a,o,r,u,c,B,y,m,_;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,a=e._decorator,o=e.Component},function(e){r=e.Constant},function(e){u=e.ResourceUtil},function(e){c=e.PoolManager},function(e){B=e.PlayerBullet},function(e){y=e.GameStateManager},function(e){m=e.EnemiesManager},function(e){_=e.ClientEvent}],execute:function(){var p,f,h,d,v;s._RF.push({},"4cf561KBMFDtKGGZ7MD7FGv","BulletsManager",void 0);var g=a.ccclass,P=a.property;e("BulletsManager",(p=g("BulletsManager"),f=P(m),p((v=n((d=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,l(n,"enemiesManager",v,i(n)),n._playersBulletInstances={},n._enemiesBulletInstances={},n._playerBullet1=new Array(1),n._enemyBullet1=new Array(1),n}t(n,e);var s=n.prototype;return s.onEnable=function(){_.on(r.EVENT_TYPE.ON_PLAYER_BULLET_COLLIDE,this._onPlayerBulletCollide,this)},s.start=function(){var e=this;u.loadEffectRes(r.LOADING_PATH.SELF_BULLET_011).then((function(n){e._playerBullet1[0]=n,c.instance.prePool(e._playerBullet1[0],40)})),u.loadEffectRes(r.LOADING_PATH.ENEMY_BULLET1).then((function(n){e._enemyBullet1[0]=n,c.instance.prePool(e._enemyBullet1[0],20)}))},s.init=function(){var e=this;y.instance.gameSystem.onNewPlayerBullet.push((function(n){e._onNewPlayerBullet(n)})),y.instance.gameSystem.onNewEnemyBullet.push((function(n){e._onNewEnemyBullet(n)})),y.instance.gameSystem.onPlayerBulletHitEnemy.push((function(n,t,l,i,s){e._onPlayerBulletHitEnemy(n,t,l,i,s)}))},s._onNewPlayerBullet=function(e){y.instance.state.players.find((function(n){return n.id===e.fromPlayerId}))?this._playersBulletInstances[e.id]?console.log("------_onNewPlayerBullet 111"):this._createPlayerBulletInstances(e):console.log("------_onNewPlayerBullet 000")},s._createPlayerBulletInstances=function(e){var n=this._playerBullet1[0],t=c.instance.getNode(n,this.node);t.setPosition(e.pos.x,0,e.pos.z);var l=this._playersBulletInstances[e.id]=t.getComponent(B);l.onBulletRemoveCB(this._playerBulletRemoveCB,this),l.init(e)},s._playerBulletRemoveCB=function(e){var n=this._playersBulletInstances[e];if(n){var t=n.node;this.node.removeChild(t),this._onBulletKilled(t),delete this._playersBulletInstances[e]}},s._onBulletKilled=function(e){e.active=!1,c.instance.putNode(e)},s._onNewEnemyBullet=function(e){y.instance.state.enemies.find((function(n){return n.id===e.fromPlayerId}))&&(this._enemiesBulletInstances[e.id]||this._createEnemyBulletInstances(e))},s._createEnemyBulletInstances=function(e){var n=this.enemiesManager.getEnemyInstances()[e.fromPlayerId];if(n){e.pos.x=n.node.position.x,e.pos.z=n.node.position.z;var t=this._enemyBullet1[0],l=c.instance.getNode(t,this.node);l.setPosition(e.pos.x,0,e.pos.z);var i=this._enemiesBulletInstances[e.id]=l.getComponent(B);i.onBulletRemoveCB(this._enemyBulletRemoveCB,this),i.init(e)}},s._enemyBulletRemoveCB=function(e){var n=this._enemiesBulletInstances[e];if(n){var t=n.node;this.node.removeChild(t),this._onBulletKilled(t),delete this._enemiesBulletInstances[e]}},s._onPlayerBulletCollide=function(e,n){y.instance.sendClientInput({type:"PlayerBulletCollide",playerBulletId:e,enemyId:n})},s._onPlayerBulletHitEnemy=function(e,n,t,l,i){l&&(this._playersBulletInstances[n]&&this._playerBulletRemoveCB(n));i&&this.enemiesManager.enemyRemoveCB(t)},n}(o)).prototype,"enemiesManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/BulletState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b5e6aP2j3FIELAa6KF1+vb+","BulletState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/clientEvent.ts",["cc"],(function(e){var n,r;return{setters:[function(e){n=e.cclegacy,r=e._decorator}],execute:function(){var t,a;n._RF.push({},"ce188JTFB5CIKNdvOao6meZ","clientEvent",void 0);var c=r.ccclass;r.property,e("ClientEvent",c("ClientEvent")(((a=function(){function e(){}return e.on=function(n,r,t){var a={handler:r,target:t},c=e._handlers[n];c||(c=[],e._handlers[n]=c);for(var l=0;l<c.length;l++)if(!c[l])return c[l]=a,l;return c.push(a),c.length},e.off=function(n,r,t){var a=e._handlers[n];if(a)for(var c=0;c<a.length;c++){var l=a[c];if(l.handler===r&&(!t||t===l.target)){a.splice(c,1);break}}},e.dispatchEvent=function(n){for(var r=arguments.length,t=new Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];var c,l=e._handlers[n],i=[];for(c=1;c<arguments.length;c++)i.push(arguments[c]);if(l)for(c=0;c<l.length;c++){var o=l[c];o.handler&&o.handler.apply(o.target,i)}},e}())._handlers={},t=a))||t);n._RF.pop()}}}));

System.register("chunks:///_virtual/constant.ts",["cc"],(function(E){var L;return{setters:[function(E){L=E.cclegacy}],execute:function(){L._RF.push({},"3af5fd5dVVMl5hyFVVHTq12","constant",void 0);var _=E("Constant",(function(){}));_.GAME_NAME="template",_.GAME_VERSION="1.0.1",_.GAME_FRAME=60,_.GAME_INIT_FRAME=60,_.GAME_NAME_CH="鹰击长空",_.LOCAL_CACHE={PLAYER:"player",SETTINGS:"settings",DATA_VERSION:"dataVersion",ACCOUNT:"account",HISTORY:"history",BAG:"bag"},_.OPEN_REWARD_TYPE={AD:0,SHARE:1,NULL:2},_.EVENT_TYPE={GAME_PLANE_BLOOD:20,GAME_PLANE_BLOOD_WARN:6,ON_GAME_RESTART:"onGameReStart",ON_GAME_START_CLICK:"onGameStartClick",ON_GAME_START:"onGameStart",ON_GAME_STOP:"onGameStop",ON_GAME_REMAIN:"onGameMain",ON_GAME_STOP_FACTOR:.1,ON_GAME_CONTINUE:"onGameContinue",GAME_DISTANCE:"gameDistance",GAME_DISTANCE_NUMBER:50,GAME_DIFFICULT:"gameDifficult",GAME_PLAYER_PLANE_NUMBER:4,BULLET_KILLED:"bulletKilled",REMOVE_BULLET:"removeBullet",REMOVE_LOADING_NODE:"removeLoadingNode"},_.PLANE_NAME={PLANE_YELLOW:"大黄峰",PLANE_BLUE:"岚麒麟",PLANE_RED:"红蜘蛛",PLANE_04:"太空传说"},_.GAMEOVER_TYPE={GAME_WIN:"gameWin",GAME_FAILURE:"gameFailure"},_.ITEM_GROUP={ENEMY_BULLET:2,SELF_BULLET:3,ENEMY_PLANE:4,SELF_PLANE:8,FIGHT_BULLET:16,PROP_FIGHT:32},_.FIGHT_BULLET_GROUP={BULLET_M:1,BULLET_S:2,BULLET_H:3},_.BULLET_DIRECTION={CENTRAL:1,LEFT:2,RIGHT:3},_.GAME_VALUE={ENEMY_TIME:180,BG_MOVE_TIME:179,ENEMYBULLET_SPEED:60,BULLET3_SCALE_CHANGE:.02,BOSS_COLLIDER_BULLET_TIME:180,BOSS_COLLIDER3_BULLET_TIME:180,BOSS_ATTACK_GRAPE_TIME:120,PLAYER_ADSORB:7},_.DIS_COMBINATOR={DIS_COMBIN0:0,DIS_COMBIN1:1,DIS_COMBIN2:2,DIS_COMBIN3:3,DIS_COMBIN4:4,DIS_COMBIN5:5,DIS_COMBIN6:6,DIS_COMBIN7:7,DIS_COMBIN8:8,DIS_COMBIN9:9,DIS_COMBIN10:10,DIS_COMBIN11:11,DIS_COMBIN12:12,DIS_COMBIN13:13,DIS_COMBIN14:14,DIS_COMBIN15:15,DIS_COMBINBOSS:999},_.BULLET_COMBINATOR={BULLET_1000:1e3,BULLET_1001:1001,BULLET_1002:1002,BULLET_1003:1003,BULLET_1004:1004,BULLET_1005:1005,BULLET_1006:1006,BULLET_1007:1007,BULLET_1008:1008,BULLET_1009:1009},_.PROPS={PROPS_HEART:"heart",PROPS_BULLET:"bullet",PROPS_STARS:"stars",PEOPS_DIS:20},_.BULLET_INTERVAL={INTERVAL_NORMAL:12,INTERVAL_2:10,INTERVAL_3:8,INTERVAL_4:5},_.BULLET_LEVEL={LEVEL_1:1,LEVEL_2:2,LEVEL_3:3,LEVEL_4:4,LEVEL_5:5,LEVEL_6:6},_.LOADING_PATH={PLAYER_PLANE:"player/player",PLAYER_PLANE_4:"plane/plane4",ENEMY_GREEN:"enemyGreen/enemyGreen",ENEMY_YELLOW:"enemyYellow/enemyYellow",ENEMY_RED:"enemyRed/enemyRed",COMBINATION8:"battery1/battery1",BOSS:"boss/boss",DUST:"dust/dust",GROUND1:"ground/movingBg1",GROUND2:"ground/movingBg2",GROUND3:"ground/movingBg3",STARS:"stars/stars",HEART:"heart/heart",BULLET:"bullet/bullet",LOW_BLOOD:"lowBlood/lowBlood",SELF_BULLET_011:"selfBullet1/bullet011",SELF_BULLET_012:"selfBullet1/bullet012",SELF_BULLET_013:"selfBullet1/bullet013",SELF_BULLET_021:"selfBullet2/bullet021",SELF_BULLET_022:"selfBullet2/bullet022",SELF_BULLET_023:"selfBullet2/bullet023",SELF_BULLET_031:"selfBullet3/bullet031",SELF_BULLET_032:"selfBullet3/bullet032",SELF_BULLET_033:"selfBullet3/bullet033",ENEMY_BULLET1:"bullet1/bullet01",ENEMY_BULLET2:"bullet2/bullet02",ENEMY_BULLET3:"bullet3/bullet03",ENEMY_BULLET4:"bullet4/bullet04",ENEMY_BULLET5:"bullet5/bullet05",ENEMY_BULLET6:"bullet6/bullet06",ENEMY_BULLET7:"bullet7/bullet07",ENEMY_BULLET8:"bullet8/bullet08",MISSILE_BULLET1:"missile/missile01",EXPLODE:"explode/explode",EXPLODE_BOSS:"explode/explodeBoss",EXPLODE_SMALL:"explode/explodeSmall",HIT_SMOKE:"hitSmoke/hitSmoke",HIT:"hit/hit",HIT_BULLET3:"hitBullet03/hitBullet03"},_.VOLUMES={VOLUMES_CANVAS:"Canvas",VOLUMES_LOWBLOOD:"Canvas/lowBlood"},_.ROUTE={ROUTE1:"route/route1"},_.GAME_DIFFICULT={GAME_DIFFICULT_1:1,GAME_DIFFICULT_2:2,GAME_DIFFICULT_3:3},_.TABLENAME={DIFFICULT_MAIN:"difficultMain",ENEMY:"enemy",DIFFICULT1:"difficult1",DIFFICULT2:"difficult2",DIFFICULT3:"difficult3"},_.GAME_SCORE_RAND={SCORE_NICE:100,SCORE_GOOD:200,SCORE_GREAT:500,SCORE_EXCELLENT:800,SCORE_WONDERFUL:1e3,TXT_NICE:"NICE",TXT_GOOD:"GOOD",TXT_GREAT:"GREAT",TXT_EXCELLENT:"EXCELLENT",TXT_WONDERFUL:"WONDERFUL"},_.Game_Animation={BOSS_FALL_ANIMATION:"bossFallAnimation"},_.ENEMY_ALL_TYPE={COMBINATION1:"combination1",COMBINATION2:"combination2",COMBINATION3:"combination3",COMBINATION4:"combination4",COMBINATION5:"combination5",COMBINATION6:"combination6",COMBINATION7:"combination7"},_.BULLET_ALL_TYPE={BULLET1:"Bullet1",BULLET2:"Bullet2",BULLET3:"Bullet3",ENEMY_BULLET2:"EnemyBullet2",ENEMY_BULLET3:"EnemyBullet3",ENEMY_BULLET4:"EnemyBullet4",ENEMY_BULLET5:"EnemyBullet5",ENEMY_BULLET6:"EnemyBullet6",ENEMY_BULLET7:"EnemyBullet7",MISSILE1:"Missile1"},_.BOSS_COLLIDER={COLLIDER1:"collider1",COLLIDER2:"collider2",COLLIDER3:"collider3",COLLIDER4:"collider4",COLLIDER5:"collider5",COLLIDER6:"collider6"},_.BULLET_SPEED={BULLET_SPEED:1,BULLET4_SPEED:.4,BULLET5_SPEED:.5,BULLET6_SPEED:.3,BULLET7_SPEED:.3,BULLET8_SPEED:.3,BULLET10_SPEED:.5},_.AUDIO_SOUND={CLICK:"click",CLICK_MAIN:"clickMain",FALL:"fall",BOOM:"boom",BOOM2:"boom2",EAT:"eat",LASER1:"laser1",LASER2:"laser2",LASER3:"laser3",BULLET1:"bullet1",BULLET2:"bullet2",BULLET3:"bullet3",BULLET4:"bullet4",BULLET5:"bullet5",BOSS1:"boss1",BOSS2:"boss2"},_.AUDIO_MUSIC={BG:"bg"},L._RF.pop()}}}));

System.register("chunks:///_virtual/constant2.ts",["cc"],(function(E){var L,_;return{setters:[function(E){L=E.cclegacy,_=E.Vec3}],execute:function(){L._RF.push({},"6d41eEyNZBOhpFp+p+U1xQ8","constant",void 0);var e=E("Constant",(function(){}));e.GAME_NAME="template",e.GAME_VERSION="1.0.1",e.GAME_FRAME=60,e.GAME_INIT_FRAME=60,e.GAME_NAME_CH="鹰击长空",e.LOCAL_CACHE={PLAYER:"player",SETTINGS:"settings",DATA_VERSION:"dataVersion",ACCOUNT:"account",HISTORY:"history",BAG:"bag"},e.OPEN_REWARD_TYPE={AD:0,SHARE:1,NULL:2},e.EVENT_TYPE={GAME_PLANE_BLOOD:20,GAME_PLANE_BLOOD_WARN:6,ON_GAME_RESTART:"onGameReStart",ON_GAME_START_CLICK:"onGameStartClick",ON_GAME_START:"onGameStart",ON_GAME_STOP:"onGameStop",ON_GAME_REMAIN:"onGameMain",ON_GAME_STOP_FACTOR:.1,ON_GAME_CONTINUE:"onGameContinue",GAME_DISTANCE:"gameDistance",GAME_DISTANCE_NUMBER:50,GAME_DIFFICULT:"gameDifficult",GAME_PLAYER_PLANE_NUMBER:4,BULLET_KILLED:"bulletKilled",REMOVE_BULLET:"removeBullet",REMOVE_LOADING_NODE:"removeLoadingNode",ON_PLAYER_BULLET_COLLIDE:"onPlayerBulletCollide"},e.PLANE_NAME={PLANE_YELLOW:"大黄峰",PLANE_BLUE:"岚麒麟",PLANE_RED:"红蜘蛛",PLANE_04:"太空传说"},e.GAMEOVER_TYPE={GAME_WIN:"gameWin",GAME_FAILURE:"gameFailure"},e.ITEM_GROUP={ENEMY_BULLET:2,SELF_BULLET:3,ENEMY_PLANE:4,SELF_PLANE:8,FIGHT_BULLET:16,PROP_FIGHT:32},e.FIGHT_BULLET_GROUP={BULLET_M:1,BULLET_S:2,BULLET_H:3},e.BULLET_DIRECTION={CENTRAL:1,LEFT:2,RIGHT:3},e.GAME_VALUE={ENEMY_TIME:180,BG_MOVE_TIME:179,ENEMYBULLET_SPEED:60,BULLET3_SCALE_CHANGE:.02,BOSS_COLLIDER_BULLET_TIME:180,BOSS_COLLIDER3_BULLET_TIME:180,BOSS_ATTACK_GRAPE_TIME:120,PLAYER_ADSORB:7},e.DIS_COMBINATOR={DIS_COMBIN0:0,DIS_COMBIN1:1,DIS_COMBIN2:2,DIS_COMBIN3:3,DIS_COMBIN4:4,DIS_COMBIN5:5,DIS_COMBIN6:6,DIS_COMBIN7:7,DIS_COMBIN8:8,DIS_COMBIN9:9,DIS_COMBIN10:10,DIS_COMBIN11:11,DIS_COMBIN12:12,DIS_COMBIN13:13,DIS_COMBIN14:14,DIS_COMBIN15:15,DIS_COMBINBOSS:999},e.BULLET_COMBINATOR={BULLET_1000:1e3,BULLET_1001:1001,BULLET_1002:1002,BULLET_1003:1003,BULLET_1004:1004,BULLET_1005:1005,BULLET_1006:1006,BULLET_1007:1007,BULLET_1008:1008,BULLET_1009:1009},e.PROPS={PROPS_HEART:"heart",PROPS_BULLET:"bullet",PROPS_STARS:"stars",PEOPS_DIS:20},e.BULLET_INTERVAL={INTERVAL_NORMAL:12,INTERVAL_2:10,INTERVAL_3:8,INTERVAL_4:5},e.BULLET_LEVEL={LEVEL_1:1,LEVEL_2:2,LEVEL_3:3,LEVEL_4:4,LEVEL_5:5,LEVEL_6:6},e.SCALE={SCALE1:new _(6,6,6),SCALE2:new _(5,5,5),SCALE3:new _(1,1,10),SCALE4:new _(20,20,20)},e.LOADING_PATH={PLAYER_PLANE:"player/player",PLAYER_PLANE_1:"plane/plane1",PLAYER_PLANE_4:"plane/plane4",enemy_PLANE_0:"enemies/plane0",enemy_PLANE_1:"enemies/plane1",ENEMY_GREEN:"enemyGreen/enemyGreen",ENEMY_YELLOW:"enemyYellow/enemyYellow",ENEMY_RED:"enemyRed/enemyRed",COMBINATION8:"battery1/battery1",BOSS:"boss/boss",DUST:"dust/dust",GROUND1:"ground/movingBg1",GROUND2:"ground/movingBg2",GROUND3:"ground/movingBg3",STARS:"stars/stars",HEART:"heart/heart",BULLET:"bullet/bullet",LOW_BLOOD:"lowBlood/lowBlood",SELF_BULLET_011:"selfBullet1/bullet011",SELF_BULLET_012:"selfBullet1/bullet012",SELF_BULLET_013:"selfBullet1/bullet013",SELF_BULLET_021:"selfBullet2/bullet021",SELF_BULLET_022:"selfBullet2/bullet022",SELF_BULLET_023:"selfBullet2/bullet023",SELF_BULLET_031:"selfBullet3/bullet031",SELF_BULLET_032:"selfBullet3/bullet032",SELF_BULLET_033:"selfBullet3/bullet033",ENEMY_BULLET1:"bullet/enemy/bullet01",ENEMY_BULLET2:"bullet2/bullet02",ENEMY_BULLET3:"bullet3/bullet03",ENEMY_BULLET4:"bullet4/bullet04",ENEMY_BULLET5:"bullet5/bullet05",ENEMY_BULLET6:"bullet6/bullet06",ENEMY_BULLET7:"bullet7/bullet07",ENEMY_BULLET8:"bullet8/bullet08",MISSILE_BULLET1:"missile/missile01",EXPLODE:"explode/explode",EXPLODE_BOSS:"explode/explodeBoss",EXPLODE_SMALL:"explode/explodeSmall",HIT_SMOKE:"hitSmoke/hitSmoke",HIT:"hit/hit",HIT_BULLET3:"hitBullet03/hitBullet03"},e.VOLUMES={VOLUMES_CANVAS:"Canvas",VOLUMES_LOWBLOOD:"Canvas/lowBlood"},e.ROUTE={ROUTE1:"route/route1"},e.GAME_DIFFICULT={GAME_DIFFICULT_1:1,GAME_DIFFICULT_2:2,GAME_DIFFICULT_3:3},e.GAME_POS={POS_1:new _(0,0,26),POS_2:new _(0,0,26),POS_3:new _(0,100,60),POS_4:new _(0,-5,-70),POS_5:new _(0,.119,-.956),POS_6:new _(180,0,0),POS_7:new _(0,180,0),POS_8:new _(0,.062,-.509)},e.TABLENAME={DIFFICULT_MAIN:"difficultMain",ENEMY:"enemy",DIFFICULT1:"difficult1",DIFFICULT2:"difficult2",DIFFICULT3:"difficult3"},e.GAME_SCORE_RAND={SCORE_NICE:100,SCORE_GOOD:200,SCORE_GREAT:500,SCORE_EXCELLENT:800,SCORE_WONDERFUL:1e3,TXT_NICE:"NICE",TXT_GOOD:"GOOD",TXT_GREAT:"GREAT",TXT_EXCELLENT:"EXCELLENT",TXT_WONDERFUL:"WONDERFUL"},e.Game_Animation={BOSS_FALL_ANIMATION:"bossFallAnimation"},e.ENEMY_ALL_TYPE={COMBINATION1:"combination1",COMBINATION2:"combination2",COMBINATION3:"combination3",COMBINATION4:"combination4",COMBINATION5:"combination5",COMBINATION6:"combination6",COMBINATION7:"combination7"},e.BULLET_ALL_TYPE={BULLET1:"Bullet1",BULLET2:"Bullet2",BULLET3:"Bullet3",ENEMY_BULLET2:"EnemyBullet2",ENEMY_BULLET3:"EnemyBullet3",ENEMY_BULLET4:"EnemyBullet4",ENEMY_BULLET5:"EnemyBullet5",ENEMY_BULLET6:"EnemyBullet6",ENEMY_BULLET7:"EnemyBullet7",MISSILE1:"Missile1"},e.BOSS_COLLIDER={COLLIDER1:"collider1",COLLIDER2:"collider2",COLLIDER3:"collider3",COLLIDER4:"collider4",COLLIDER5:"collider5",COLLIDER6:"collider6"},e.BULLET_SPEED={BULLET_SPEED:1,BULLET4_SPEED:.4,BULLET5_SPEED:.5,BULLET6_SPEED:.3,BULLET7_SPEED:.3,BULLET8_SPEED:.3,BULLET10_SPEED:.5},e.AUDIO_SOUND={CLICK:"click",CLICK_MAIN:"clickMain",FALL:"fall",BOOM:"boom",BOOM2:"boom2",EAT:"eat",LASER1:"laser1",LASER2:"laser2",LASER3:"laser3",BULLET1:"bullet1",BULLET2:"bullet2",BULLET3:"bullet3",BULLET4:"bullet4",BULLET5:"bullet5",BOSS1:"boss1",BOSS2:"boss2"},e.AUDIO_MUSIC={BG:"bg"},L._RF.pop()}}}));

System.register("chunks:///_virtual/csvManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"41ba3N1wUlD+5bzPbvhnS8Z","csvManager",void 0);var n=[",",";","\t","|","^"],i=["\r\n","\r","\n"],s=function(e,t,r,n){return r instanceof Array?"number"===r[t]?Number(n[t]):"boolean"===r[t]?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:isNaN(Number(e))?"false"==e||"true"==e||"t"==e||"f"==e?"true"===n[t]||"t"===n[t]||"1"===n[t]:n[t]:Number(n[t])},u={STANDARD_DECODE_OPTS:{skip:0,limit:!1,header:!1,cast:!1,comment:""},STANDARD_ENCODE_OPTS:{delimiter:n[0],newline:i[0],skip:0,limit:!1,header:!1},quoteMark:'"',doubleQuoteMark:'""',quoteRegex:/"/g,assign:function(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r=e.slice(1),n=0,i=r.length;n<i;n++)for(var s in r[n])t[s]=r[n][s];return t},map:function(e,t){for(var r=[],n=0,i=e.length;n<i;n++)r[n]=t(e[n],n);return r},getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},getLimit:function(e,t){return!1===e?t:e},buildObjectConstructor:function(e,t,r){return function(n){var i=new Object,u=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){u(e,s(t[i],i,r,n))})):e.forEach((function(e,r){u(e,s(t[r],r,null,n))})),i}},buildArrayConstructor:function(e,t,r){return function(n){var i=new Array(t.length),u=function(e,t){return i[e]=t};return r?e.forEach((function(e,i){u(e,s(t[i],i,r,n))})):e.forEach((function(e,r){u(e,s(t[r],r,null,n))})),i}},frequency:function(e,t,r){void 0===r&&(r=!1);for(var n=0,i=0,s=this.getLimit(r,e.length);i<s&&-1!==(i=e.indexOf(t,i));)i+=1,n++;return n},mostFrequent:function(e,t,r){for(var n,i=t.length-1;i>=0;i--)this.frequency(e,t[i],r)>0&&(n=t[i]);return n||t[0]},unsafeParse:function(e,t,r){var n,i,s=e.split(t.newline);function u(e){var r=e.shift();if(r.indexOf('"')>=0){for(var n=0,i=0,s=0;e.length>0&&(-1!==(n=r.indexOf('"',i))||s%2!=0);)-1!==n?(i=n+1,s++):r=r+t.newline+e.shift();var u,a=[],o=0,l=0,c=0,h=r.length;for(var f in r)if(r.hasOwnProperty(f)){var d=parseInt(f),v=r[f];0===d&&'"'===v&&(o++,l=1),'"'===v&&(o++,r[d-1]===t.delimiter&&l===d&&l++),'"'===v&&o%2==0&&(r[d+1]!==t.delimiter&&d+1!==h||(c=d,u=r.substring(l,c),a.push(u),c=l=c+2)),v===t.delimiter&&o%2==0&&((c=d)>l?(u=r.substring(l,c),a.push(u),c=l=c+1):c===l&&(a.push(""),c=l=c+1))}return(c=h)>=l&&(u=r.substring(l,c),a.push(u)),a}return r.split(t.delimiter)}for(t.skip>0&&s.splice(t.skip),t.header?(!0===t.header?(t.comment=u(s),t.cast=u(s),n=u(s)):"Array"===this.getType(t.header)&&(n=t.header),i=this.buildObjectConstructor(n,s[0].split(t.delimiter),t.cast)):i=this.buildArrayConstructor(n,s[0].split(t.delimiter),t.cast);s.length>0;){var a=u(s);a.length>1&&r(i(a),n[0])}return!0},safeParse:function(e,t,r){t.delimiter;var n=t.newline,i=e.split(n);return t.skip>0&&i.splice(t.skip),!0},encodeCells:function(e,t,r){for(var n=e.slice(0),i=0,s=n.length;i<s;i++)-1!==n[i].indexOf(this.quoteMark)&&(n[i]=n[i].replace(this.quoteRegex,this.doubleQuoteMark)),-1===n[i].indexOf(t)&&-1===n[i].indexOf(r)||(n[i]=this.quoteMark+n[i]+this.quoteMark);return n.join(t)},encodeArrays:function(e,t,r){var n=t.delimiter,i=t.newline;t.header&&"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,n,i));for(var s=0,u=this.getLimit(t.limit,e.length);s<u;s++)r(this.encodeCells(e[s],n,i));return!0},encodeObjects:function(e,t,r){var n,i,s=t.delimiter,u=t.newline;for(var a in n=[],i=[],e[0])n.push(a),i.push(e[0][a]);!0===t.header?r(this.encodeCells(n,s,u)):"Array"===this.getType(t.header)&&r(this.encodeCells(t.header,s,u)),r(this.encodeCells(i,s));for(var o=1,l=this.getLimit(t.limit,e.length);o<l;o++){i=[];for(var c=0,h=n.length;c<h;c++)i.push(e[o][n[c]]);r(this.encodeCells(i,s,u))}return!0},parse:function(e,t,r){var s;if("Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)?r=(s=[]).push.bind(s):s=[],t=this.assign({},this.STANDARD_DECODE_OPTS,t),this.opts=t,!t.delimiter||!t.newline){var u=Math.min(48,Math.floor(e.length/20),e.length);t.delimiter=t.delimiter||this.mostFrequent(e,n,u),t.newline=t.newline||this.mostFrequent(e,i,u)}return this.unsafeParse(e,t,r)&&(!(s.length>0)||s)},encode:function(e,t,r){var n;return"Function"===this.getType(t)?(r=t,t={}):"Function"!==this.getType(r)&&(r=(n=[]).push.bind(n)),(t=this.assign({},this.STANDARD_ENCODE_OPTS,t)).skip>0&&(e=e.slice(t.skip)),("Array"===this.getType(e[0])?this.encodeArrays:this.encodeObjects)(e,t,r)&&(!(n.length>0)||n.join(t.newline))}};e("CSVManager",function(){function e(){this._csvTables={},this._csvTableForArr={},this._tableCast={},this._tableComment={}}var r=e.prototype;return r.addTable=function(e,t,r){if(!this._csvTables[e]||r){var n={},i=[];u.parse(t,{header:!0},(function(e,t){n[e[t]]=e,i.push(e)})),this._tableCast[e]=u.opts.cast,this._tableComment[e]=u.opts.comment,this._csvTables[e]=n,this._csvTableForArr[e]=i}},r.getTableArr=function(e){return this._csvTableForArr[e]},r.getTable=function(e){return this._csvTables[e]},r.queryOne=function(e,t,r){var n=this.getTable(e);if(!n)return null;if(!t)return n[r];for(var i in n)if(n.hasOwnProperty(i)&&n[i][t]===r)return n[i]},r.queryByID=function(e,t){return this.queryOne(e,null,t)},r.queryAll=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;var i={};for(var s in n)n.hasOwnProperty(s)&&n[s][t]===r&&(i[s]=n[s]);return i},r.queryIn=function(e,t,r){var n=this.getTable(e);if(!n||!t)return null;for(var i={},s=Object.keys(n),u=s.length,a=0;a<u;a++){var o=n[s[a]];r.indexOf(o[t])>-1&&(i[s[a]]=o)}return i},r.queryByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;for(var n={},i=Object.keys(r),s=i.length,u=Object.keys(t),a=u.length,o=0;o<s;o++){for(var l=r[i[o]],c=!0,h=0;h<a;h++){var f=u[h];c=c&&t[f]===l[f]&&!n[i[o]]}c&&(n[i[o]]=l)}return n},r.queryOneByCondition=function(e,t){if(t.constructor!==Object)return null;var r=this.getTable(e);if(!r)return null;var n=Object.keys(t),i=n.length;for(var s in r){for(var u=r[s],a=!0,o=0;o<i;o++){var l=n[o];a=a&&t[l]===u[l]}if(a)return u}return null},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemiesManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant2.ts","./Enemy.ts","./GameStateManager.ts","./resourceUtil.ts"],(function(e){var n,t,a,s,i,o,r,c,u,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,s=e._decorator,i=e.instantiate,o=e.Component},function(e){r=e.Constant},function(e){c=e.Enemy},function(e){u=e.GameStateManager},function(e){f=e.ResourceUtil}],execute:function(){var m;a._RF.push({},"ba79f1N+qhIv4Vq3h3HiiT0","EnemiesManager",void 0);var l=s.ccclass;s.property,e("EnemiesManager",l("EnemiesManager")(m=function(e){function a(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this).difficultInfo=[],n._enemyInstances={},n}n(a,e);var s=a.prototype;return s.getEnemyInstances=function(){return this._enemyInstances},s.onLoad=function(){},s.start=function(){},s.init=function(){},s.updateEnemies=function(){var e=u.instance.state.enemies;if(e&&0!==e.length)for(var n,a=t(e);!(n=a()).done;){var s=n.value,i=this._enemyInstances[s.id];i?i.updateState(s):this._createEnemyInstances(s)}},s._createEnemyInstances=function(e){var n=this,t=r.LOADING_PATH.enemy_PLANE_0;console.log("_createEnemyInstances:"+e.attribute.planeId),1==e.attribute.planeId&&(t=r.LOADING_PATH.enemy_PLANE_1),f.loadModelRes(t).then((function(t){var a=i(t),s=n._enemyInstances[e.id]=a.getComponent(c);a.parent=n.node,a.setPosition(e.attribute.pos[0],0,e.attribute.pos[2]),a.active=!0,s.init(e)})).catch((function(e){}))},s.enemyRemoveCB=function(e){var n=this._enemyInstances[e];if(n){var t=n.node;this.node.removeChild(t),delete this._enemyInstances[e]}},a}(o))||m);a._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameConfig.ts","./TweenPool.ts"],(function(t){var e,i,o,s,r,u,n,a,_,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,s=t.Vec3,r=t.Collider,u=t.tween,n=t.Quat,a=t.Component},function(t){_=t.gameConfig},function(t){h=t.TweenPool}],execute:function(){var l;i._RF.push({},"da55dqO4NhL1bd501W/bq9F","Enemy",void 0);var m=o.ccclass;o.property,t("Enemy",m("Enemy")(l=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._enemyId=void 0,e._tweens=new h,e._targetPos=new s,e._target=void 0,e._isRolling=!1,e._routePos=[],e._routeTime=0,e._routeType=0,e._currRouteId=0,e._rollOverTime=-1,e._isRoute=!1,e._rad=0,e._temp_quat=new n,e}e(i,t);var o=i.prototype;return o.getEnemyId=function(){return this._enemyId},o.setTargetPos=function(t){this._targetPos=t},o.start=function(){},o.init=function(t){this._enemyId=t.id,this._targetPos=new s(t.attribute.pos[0],0,t.attribute.pos[2]);var e=this.getComponent(r);e.setGroup(2),e.setMask(1)},o.update=function(t){},o.updateState=function(t){this._tweenState(t)},o._tweenState=function(t){var e=this;if(t.currRouteId!=this._currRouteId&&(this._currRouteId=t.currRouteId,1==this._currRouteId?(this._routePos=t.attribute.route1[2].split(","),this._routeTime=Number(t.attribute.route1[1]),this._routeType=Number(t.attribute.route1[0])):2==this._currRouteId?(this._routePos=t.attribute.route2[2].split(","),this._routeTime=Number(t.attribute.route2[1]),this._routeType=Number(t.attribute.route2[0])):3==this._currRouteId&&(this._routePos=t.attribute.route3[2].split(","),this._routeTime=Number(t.attribute.route3[1]),this._routeType=Number(t.attribute.route3[0]))),this._targetPos.x!==Number(this._routePos[0])||this._targetPos.z!==Number(this._routePos[2]))if(this._tweens.clear(),this.node.setPosition(t.currPos.x,0,t.currPos.z),this._targetPos.set(Number(this._routePos[0]),0,Number(this._routePos[2])),1==this._routeType)this._tweens.add(u(this.node).to(this._routeTime,{position:this._targetPos},{onUpdate:function(t,i){e._setRollState()}}).call((function(){-1==e._rollOverTime&&(console.log("rollOverTime is running"),e._rollOverTime=setTimeout((function(){e._rollOver()}),_.planeRollOverDelayTime))})).start());else if(2==this._routeType||3==this._routeType){var i=this.node.position.x,o=this.node.position.z,r=new s((i+this._targetPos.x)/2,0,(o+this._targetPos.z)/2),n=s.distance(this.node,this._targetPos)/2,a=Math.atan2(o-r.z,i-r.x),h=2==this._routeType?-Math.PI:Math.PI;this._tweens.add(u(this.node).to(this._routeTime,{},{onUpdate:function(t,i){if(void 0!==i){var o=a+h*i,s=r.x+Math.cos(o)*n,u=r.z+Math.sin(o)*n;e.node.setPosition(s,0,u),e._setRollState()}else console.log("ratio is undefined")}}).call((function(){-1==e._rollOverTime&&(e._rollOverTime=setTimeout((function(){e._rollOver()}),_.planeRollOverDelayTime))})).start())}},o._setRollState=function(){this._rollOverTime&&(clearTimeout(this._rollOverTime),this._rollOverTime=-1),this._isRolling=!0,this._isRoute=!0,this._isRoute&&(this.node.getRotation(this._temp_quat),this._targetPos.x>this.node.x?this.node.eulerAngles.z<=-30?this._isRoute=!1:(this._rad=-Number(Math.PI)/180*2,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat)):this._targetPos.x<this.node.x?this.node.eulerAngles.z>=30?this._isRoute=!1:(this._rad=Number(Math.PI)/180*2,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat)):(this._rad=-this.node.eulerAngles.z*Number(Math.PI)/180,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat)))},o._rollOver=function(){this._rollOverTime&&(clearTimeout(this._rollOverTime),this._rollOverTime=-1),this._isRolling=!1,this._isRoute=!1,this._rad=-this.node.eulerAngles.z*Number(Math.PI)/180,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat)},i}(a))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyState.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"42155/plZJPe7Z+88Edq7/u","EnemyState",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/env.ts",["cc","./index.mjs"],(function(){var e;return{setters:[function(n){e=n.cclegacy},null],execute:function(){e._RF.push({},"0688cAvpN9MyYYi1PzlVhOQ","env",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/gameConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b7411bvnQ5LcZ97EdXrlO6P","gameConfig",void 0);e("gameConfig",{designWidth:720,designHeight:1280,sceneWidth:50,sceneHeight:90,syncRate:10,gameStateNoStart:0,gameStateReady:1,gameStatePlaying:2,gameStateEnd:3,createCombinationInterval:500,planeRollOverDelayTime:200,PLAYER_MOVING_VALUE:.07,bulletFlyTime:800,arrowDistance:8,arrowAttackRadius:2,arrowDizzyTime:1e3});t._RF.pop()}}}));

System.register("chunks:///_virtual/GameScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayersManager.ts","./GameStateManager.ts","./storageManager.ts","./constant2.ts","./playerData.ts","./sdkUtil.ts","./BulletsManager.ts","./loadCsv.ts","./EnemiesManager.ts"],(function(e){var n,t,a,i,s,o,r,c,l,u,f,p,g,d,h,m,y,M,S,_,b,v,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,r=e.Vec3,c=e.CameraComponent,l=e.Vec2,u=e.game,f=e.PhysicsSystem,p=e.Node,g=e.EventTouch,d=e.Component},function(e){h=e.PlayersManager},function(e){m=e.GameStateManager},function(e){y=e.StorageManager},function(e){M=e.Constant},function(e){S=e.PlayerData},function(e){_=e.SdkUtil},function(e){b=e.BulletsManager},function(e){v=e.LoadCsv},function(e){w=e.EnemiesManager}],execute:function(){var C,E,A,G,D,I,P,T,R,x,U;s._RF.push({},"d4728cOzxlKHLMu5Xg48U8U","GameScene",void 0);var z=o.ccclass,O=o.property;new r,e("GameScene",(C=z("GameScene"),E=O(c),A=O(h),G=O(b),D=O(w),C((T=n((P=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return n=e.call.apply(e,[this].concat(s))||this,a(n,"mainCamera",T,i(n)),a(n,"playersManager",R,i(n)),a(n,"bulletsManager",x,i(n)),a(n,"enemiesManager",U,i(n)),n._selfSpeed=new l(0,0),n}t(n,e);var s=n.prototype;return s.onLoad=function(){},s.start=function(){var e=this,n=y.instance.getGlobalData("frameRate");"number"!=typeof n&&(n=M.GAME_FRAME,window.wx&&Util.checkIsLowPhone()&&(n=30),y.instance.setGlobalData("frameRate",n)),console.log("###frameRate",n),u.frameRate=n,f.instance.fixedTimeStep=1/n,window.wx&&window.cocosAnalytics&&window.cocosAnalytics.init({appID:"699860099",version:"1.0.0",storeID:"cocosPlay",engine:"cocos"}),f.instance.enable=!0,S.instance.loadGlobalCache(),S.instance.loadGlobalCache(),S.instance.userId||(S.instance.generateRandomAccount(),console.log("###生成随机userId",S.instance.userId)),S.instance.loadFromCache(),S.instance.playerInfo&&S.instance.playerInfo.createDate||S.instance.createPlayerInfo(),_.shareGame(M.GAME_NAME_CH,""),v.instance.loadConfig((function(){})),m.instance.starting=!1,m.instance.gameSystem.clearAllEnemiesAndBullets.push((function(){e._clearAllEnemiesAndBullets()})),this._setTouch()},s.init=function(e){console.log("GameScene init:"+e),m.instance.setIsSinglePlayerMode(e),e?this.scheduleOnce(this._enterJoinSingle,1):this._connectServer()},s._enterJoinSingle=function(){m.instance.enterJoinSingle(),this._initManager()},s._connectServer=function(){m.instance.connectServer(),m.instance.client.flows.postDisconnectFlow.push((function(e){return setTimeout((function(){m.instance.join()}),2e3),e})),this.scheduleOnce(this._joinRoom,1)},s._joinRoom=function(){m.instance.join(),this._initManager()},s._initManager=function(){this.playersManager.init(),this.bulletsManager.init(),this.enemiesManager.init()},s.onEnable=function(){},s.onDisable=function(){},s._clearAllEnemiesAndBullets=function(){console.log("GameScene 清除所有敌人和子弹")},s.update=function(e){1==m.instance.starting&&(this._selfSpeed&&this._selfSpeed.lengthSqr()&&(m.instance.sendClientInput({type:"PlayerMove",speed:{x:this._selfSpeed.x,y:this._selfSpeed.y},dt:e}),this._selfSpeed=void 0),this.playersManager.updatePlayers(),this.enemiesManager.updateEnemies())},s._setTouch=function(){var e=this;this.node.on(p.EventType.TOUCH_MOVE,(function(n){g.MAX_TOUCHES=1;var t=n.getDelta();e._selfSpeed||(e._selfSpeed=new l),e._selfSpeed.set(t.x,t.y)}),this),this.node.on(p.EventType.TOUCH_END,(function(n){e._selfSpeed=void 0}),this)},n}(d)).prototype,"mainCamera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(P.prototype,"playersManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(P.prototype,"bulletsManager",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(P.prototype,"enemiesManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameStateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.mjs","./index3.mjs","./GameSystem.ts","./serviceProto.ts","./gameConfig.ts"],(function(t){var e,n,s,a,i,r,o,c,l,u;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime,s=t.createForOfIteratorHelperLoose,a=t.extends,i=t.createClass},function(t){r=t.cclegacy},function(t){o=t.WsClient},null,function(t){c=t.GameSystem},function(t){l=t.serviceProto},function(t){u=t.gameConfig}],execute:function(){r._RF.push({},"10f6aeY5EtCw5jEiivSXkKW","GameStateManager",void 0),t("GameStateManager",function(){var t=r.prototype;function r(){this.client=void 0,this.gameSystem=new c,this.lastServerState=this.gameSystem.state,this.lastRecvSetverStateTime=0,this._selfPlayerId=-1,this.lastSN=0,this.starting=!1,this._isSinglePlayerMode=!0,this.pendingInputMsgs=[],this.syncInterval=void 0,this.pendingInputs=[],window.gm=this}return t.getSelfPlayerId=function(){return this._selfPlayerId},t.setIsSinglePlayerMode=function(t){this._isSinglePlayerMode=t},t.connectServer=function(){var t,s=this,a=this.client=new o(l,{server:"ws://test44.44vs.com:3000",json:!0,heartbeat:{interval:1e3,timeout:5e3}});a.listenMsg("server/Frame",(function(t){s._onServerSync(t)}));var i=parseInt((null==(t=location.search.match(/\blag=(\d+)/))?void 0:t[1])||"0");i&&(a.flows.preRecvDataFlow.push(e(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout(t,i)}));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))),a.flows.preSendDataFlow.push(e(n().mark((function t(e){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout(t,i)}));case 2:return t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})))))},t.join=function(){var t=e(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client.isConnected){t.next=8;break}return t.next=3,this.client.connect();case 3:if(t.sent.isSucc){t.next=8;break}return t.next=7,new Promise((function(t){setTimeout(t,2e3)}));case 7:return t.abrupt("return",this.join());case 8:return t.next=10,this.client.callApi("Join",{});case 10:if((e=t.sent).isSucc){t.next=17;break}if(!confirm("加入房间失败\n"+e.err.message+"\n是否重试 ?")){t.next=16;break}return t.abrupt("return",this.join());case 16:return t.abrupt("return");case 17:this.gameSystem.reset(e.res.gameState),this.lastServerState=Object.merge(e.res.gameState),this.lastRecvSetverStateTime=Date.now(),this._selfPlayerId=e.res.playerId,this.gameSystem.state.gameState==u.gameStatePlaying&&this.gameSystem.setTableInfo(),this.starting=!0;case 23:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t._onServerSync=function(t){var e,n=this;this.gameSystem.reset(this.lastServerState);for(var i,r=s(t.inputs);!(i=r()).done;){var o=i.value;this.gameSystem.applyInput(o)}this.lastServerState=Object.merge({},this.gameSystem.state),this.lastRecvSetverStateTime=Date.now();var c=null!=(e=t.lastSn)?e:-1;this.pendingInputMsgs.remove((function(t){return t.sn<=c})),this.pendingInputMsgs.forEach((function(t){t.inputs.forEach((function(t){n.gameSystem.applyInput(a({},t,{playerId:n._selfPlayerId}))}))}))},t.sendClientInput=function(t){if(0!=this._isSinglePlayerMode||this._selfPlayerId&&this.client.isConnected){if(0==this._isSinglePlayerMode){var e={sn:++this.lastSN,inputs:[t]};this.pendingInputMsgs.push(e),this.client.sendMsg("client/ClientInput",e)}this.gameSystem.applyInput(a({},t,{playerId:this._selfPlayerId}))}},t.localTimePast=function(){this.gameSystem.applyInput({type:"TimePast",dt:Date.now()-this.lastRecvSetverStateTime}),this.lastRecvSetverStateTime=Date.now()},t.enterJoinSingle=function(){var t=this;this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=void 0);var e=Math.floor(999*Math.random())+1,n={type:"PlayerJoin",playerId:e,planeId:Math.floor(4*Math.random())+1,pos:{x:10*Math.random()-5,z:10*Math.random()-5}};this.applyInput(n),console.log("applyInput:PlayerJoin"),this._selfPlayerId=e,this.starting=!0;var s={type:"GameStart",playerId:e};this.applyInput(s),this.syncInterval||(console.log("syncInterval is running"),this.syncInterval=setInterval((function(){t.sync()}),1e3/u.syncRate))},t.applyInput=function(t){this.pendingInputs.push(t)},t.sync=function(){var t=this,e=this.pendingInputs;this.pendingInputs=[],e.forEach((function(e){t.gameSystem.applyInput(e)})),this.localTimePast()},i(r,[{key:"state",get:function(){return this.gameSystem.state}}],[{key:"instance",get:function(){return this._instance||(this._instance=new r),this._instance}}]),r}())._instance=void 0,r._RF.pop()}}}));

System.register("chunks:///_virtual/GameSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./loadCsv.ts","./constant.ts","./gameConfig.ts"],(function(t){var e,s,i,r,a,n;return{setters:[function(t){e=t.extends,s=t.createClass},function(t){i=t.cclegacy},function(t){r=t.LoadCsv},function(t){a=t.Constant},function(t){n=t.gameConfig}],execute:function(){i._RF.push({},"4b384nPMK5LjIqYQbjiFpsF","GameSystem",void 0);t("GameSystem",function(){function t(){this._state={gameState:0,now:0,currStageId:1,currTime:0,combinationInterval:0,combinationEnd:!0,players:[],nextBulletId:1,playersBullets:[],enemies:[],nextEnemyBulletId:1,enemiesBullets:[],nextEnemyId:1},this._difficultInfo={},this._strSort="",this._diff={},this.onNewPlayerBullet=[],this.onNewEnemyBullet=[],this.clearAllEnemiesAndBullets=[],this.clearPlayer=[],this.onPlayerBulletHitEnemy=[]}var i=t.prototype;return i.reset=function(t){this._state=Object.merge({},t)},i.difficultTable=function(t,e){return[t[e].combination.split("#"),t[e].life.split("#"),t[e].score.split("#"),t[e].location.split("#"),t[e].speed.split("#"),t[e].attacked.split("#"),t[e].barrage.split("#"),t[e].interval.split("#"),t[e].prop.split("#"),t[e].stars.split("#"),t[e].route1.split("#"),t[e].route2.split("#"),t[e].route3.split("#")]},i.chooseCombination=function(t,e){switch(Number(t[0][e])){case a.DIS_COMBINATOR.DIS_COMBIN0:this._setAttribute(t,e,a.DIS_COMBINATOR.DIS_COMBIN0);break;case a.DIS_COMBINATOR.DIS_COMBIN1:this._setAttribute(t,e,a.DIS_COMBINATOR.DIS_COMBIN1)}},i._setAttribute=function(t,e,s){var i={};i.planeId=s,i.hp=Number(t[1][e]),i.score=Number(t[2][e]);for(var r=t[3][e].split(","),a=new Array(3),n=0;n<r.length;n++)a[n]=Number(r[n]);i.pos=a,i.speed=Number(t[4][e]),i.isAttack=Number(t[5][e]),i.barrageID=Number(t[6][e]),i.interval=Number(t[7][e]),i.props=Number(t[8][e]),i.stars=Number(t[9][e]),i.route1=t[10][e].split("_"),i.route2=t[11][e].split("_"),i.route3=t[12][e].split("_");var o={type:"EnemyJoin",enemyId:this._state.nextEnemyId++,attribute:i};this.applyInput(o)},i.setTableInfo=function(){this._difficultInfo=r.instance.getTableArr("difficultMain");var t=this.state.currStageId-1;t<this._difficultInfo.length?(this._strSort=this._difficultInfo[t].mapName,console.log("当前-关卡内所有波次信息表名:"+this._strSort),this._diff=r.instance.getTableArr(this._strSort)):(console.log("游戏结束"),this._state={gameState:n.gameStateEnd,now:0,currStageId:1,currTime:0,combinationInterval:0,combinationEnd:!0,players:[],nextBulletId:1,playersBullets:[],enemies:[],nextEnemyBulletId:1,enemiesBullets:[],nextEnemyId:1})},i.applyInput=function(t){var s=this;if("PlayerJoin"===t.type)this.state.players.push({id:t.playerId,planeId:t.planeId,pos:e({},t.pos),nextAttackTime:this._state.now+800});else if("PlayerLeave"===t.type)console.log("applyInput PlayerLeave length aaa:"+this.state.players.length),this.state.players.remove((function(e){return e.id===t.playerId})),console.log("applyInput PlayerLeave length bbb:"+this.state.players.length),this.clearPlayer.forEach((function(e){return e(t.playerId)}));else if("TimePast"===t.type){if(this._state.now+=t.dt,this.state.gameState===n.gameStatePlaying){if(this._state.currTime+=t.dt,Math.floor(this._state.currTime/n.createCombinationInterval)>this._state.combinationInterval){this._state.combinationInterval++,this._state.combinationEnd=!0;for(var i=0,r=0;r<this._diff.length;r++)if(i=this._diff[r].distance,this.state.combinationInterval==i){this._state.combinationEnd=!1,console.log("TimePast combinationInterval:"+this.state.combinationInterval),console.log("TimePast currTime:"+this._state.currTime);for(var a=this.difficultTable(this._diff,r),o=0;o<a[0].length;o++)this.chooseCombination(a,o)}else this.state.combinationInterval<i&&(this._state.combinationEnd=!1)}for(var l=function(){var t=s._state.enemies[u],e=0;if(s._state.now>t.currRET)if(1==t.currRouteId){if(t.attribute.route2.length>1){var i=t.attribute.route1[2].split(",");t.currPos.x=Number(i[0]),t.currPos.z=Number(i[2]),t.currRouteId=t.currRouteId+1,e=1e3*Number(t.attribute.route2[1])}else t.currPos.x=Number(t.attribute.pos[0]),t.currPos.z=Number(t.attribute.pos[2]),t.currRouteId=1,e=1e3*Number(t.attribute.route1[1]),t.nextAttackTime=s._state.now+t.attribute.interval;t.currRST=s._state.now,t.currRET=s._state.now+e}else if(2==t.currRouteId){if(t.attribute.route3.length>1){var r=t.attribute.route2[2].split(",");t.currPos.x=Number(r[0]),t.currPos.z=Number(r[2]),t.currRouteId=t.currRouteId+1,e=1e3*Number(t.attribute.route3[1])}else t.currPos.x=Number(t.attribute.pos[0]),t.currPos.z=Number(t.attribute.pos[2]),t.currRouteId=1,e=1e3*Number(t.attribute.route1[1]),t.nextAttackTime=s._state.now+t.attribute.interval;t.currRST=s._state.now,t.currRET=s._state.now+e}else 3==t.currRouteId&&(t.currPos.x=Number(t.attribute.pos[0]),t.currPos.z=Number(t.attribute.pos[2]),t.currRouteId=1,e=1e3*Number(t.attribute.route1[1]),t.currRST=s._state.now,t.currRET=s._state.now+e,t.nextAttackTime=s._state.now+t.attribute.interval);if(s._state.now>t.nextAttackTime){t.nextAttackTime=s._state.now+t.attribute.interval;var a=n.sceneHeight/2+10,o={id:s._state.nextEnemyBulletId++,fromPlayerId:t.id,pos:{x:0,z:0},targetPos:{x:0,z:a},targetTime:s._state.now+5e3};s._state.enemiesBullets.push(o),s.onNewEnemyBullet.forEach((function(t){return t(o)}))}},u=this._state.enemies.length-1;u>-1;--u)l();for(var c=this._state.playersBullets.length-1;c>-1;--c){this._state.playersBullets[c].targetTime<=this._state.now&&this._state.playersBullets.splice(c,1)}if(this._state.gameState==n.gameStatePlaying)for(var m=function(){var t=s._state.players[h];if(s._state.now>t.nextAttackTime){t.nextAttackTime=s._state.now+200;var i=t.pos.x,r=-n.sceneHeight/2+10,a={id:s._state.nextBulletId++,fromPlayerId:t.id,pos:e({},t.pos),targetPos:{x:i,z:r},targetTime:s._state.now+5e3};s._state.playersBullets.push(a),s.onNewPlayerBullet.forEach((function(t){return t(a)}))}},h=0;h<this._state.players.length;h++)m();for(var p=this._state.enemiesBullets.length-1;p>-1;--p){this._state.enemiesBullets[p].targetTime<=this._state.now&&this._state.enemiesBullets.splice(p,1)}}}else if("GameStart"===t.type)console.log("GameStart"),this._state.gameState=n.gameStatePlaying,this.setTableInfo();else if("PlayerMove"===t.type){var f=this._state.players.find((function(e){return e.id===t.playerId}));if(!f)return;var _=n.PLAYER_MOVING_VALUE*t.speed.x,d=n.PLAYER_MOVING_VALUE*t.speed.y;f.pos.x+=_,f.pos.z-=d,f.pos.x<=-23?f.pos.x=-23:f.pos.x>=23&&(f.pos.x=23),f.pos.z>=40?f.pos.z=40:f.pos.z<=-40&&(f.pos.z=-40)}else if("EnemyJoin"===t.type){console.log("EnemyJoin "+t.enemyId);var b={id:t.enemyId,attribute:t.attribute,currPos:{x:t.attribute.pos[0],z:t.attribute.pos[2]},currRouteId:1,currRST:this._state.now,currRET:this._state.now+1e3*Number(t.attribute.route1[1]),nextAttackTime:this._state.now+t.attribute.interval,deadFlg:!1};this._state.enemies.push(b)}else if("PlayerBulletCollide"===t.type){var y=t.playerBulletId,I=this._state.playersBullets.find((function(t){return t.id===y}));if(I){var g=I.fromPlayerId;if(g==t.playerId)if(this._state.players.find((function(t){return t.id===g}))){var v=t.enemyId,T=this._state.enemies.find((function(t){return t.id===v}));if(T){var N=!1,B=!1;1==T.deadFlg?(this._state.enemies=this._state.enemies.filter((function(t){return t.id!==v})),B=!0):(T.attribute.hp--,T.attribute.hp<=0&&(T.deadFlg=!0,this._state.enemies=this._state.enemies.filter((function(t){return t.id!==v})),B=!0),this._state.playersBullets=this._state.playersBullets.filter((function(t){return t.id!==y})),N=!0),this.onPlayerBulletHitEnemy.forEach((function(t){return t(g,y,v,N,B)})),0==this._state.enemies.length&&1==this._state.combinationEnd&&(this._state.enemies=[],this._state.currStageId++,this._state.currTime=0,this._state.combinationInterval=0,this.setTableInfo())}}}}},s(t,[{key:"state",get:function(){return this._state}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/loadCsv.ts",["./rollupPluginModLoBabelHelpers.js","cc","./resourceUtil.ts","./localConfig.ts"],(function(n){var t,i,o,e,c,a;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy,o=n._decorator,e=n.resources},function(n){c=n.ResourceUtil},function(n){a=n.LocalConfig}],execute:function(){var r,l;i._RF.push({},"e4c08Pthx1IprZova79CSMI","loadCsv",void 0);var u=o.ccclass;o.property,n("LoadCsv",u("LoadCsv")(((l=function(){function n(){this._localConfig=new a,this._callback=new Function,this._currentLoad=0,this._cntLoad=0}var i=n.prototype;return i.loadConfig=function(n){this._callback=n,this._loadCSV()},i._loadCSV=function(){var n=this;e.loadDir("datas",(function(t,i){if(!t){var o=i.filter((function(n){return".md"!==n._native}));n._cntLoad=o.length,o.length?o.forEach((function(t,i,o){c.getTextData(t.name,(function(i,o){n._localConfig.addTable(t.name,o),n._tryToCallbackOnFinished()}))})):n._tryToCallbackOnFinished()}}))},i._tryToCallbackOnFinished=function(){this._callback&&(this._currentLoad++,this._currentLoad>=this._cntLoad&&this._callback())},i.queryOne=function(n,t,i){return this._localConfig.queryOne(n,t,i)},i.queryByID=function(n,t){return this._localConfig.queryByID(n,t)},i.getTable=function(n){return this._localConfig.getTable(n)},i.getTableArr=function(n){return this._localConfig.getTableArr(n)},i.queryAll=function(n,t,i){return this._localConfig.queryAll(n,t,i)},i.queryIn=function(n,t,i){return this._localConfig.queryIn(n,t,i)},i.queryByCondition=function(n,t){return this._localConfig.queryByCondition(n,t)},t(n,null,[{key:"instance",get:function(){return this._instance||(this._instance=new n),this._instance}}]),n}())._instance=void 0,r=l))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/localConfig.ts",["cc","./csvManager.ts"],(function(n){var e,r;return{setters:[function(n){e=n.cclegacy},function(n){r=n.CSVManager}],execute:function(){e._RF.push({},"d9eees/ZhJCNpyUUPsU8+Pj","localConfig",void 0);n("LocalConfig",function(){function n(){this._csvManager=new r}var e=n.prototype;return e.addTable=function(n,e){this._csvManager.addTable(n,e)},e.queryOne=function(n,e,r){return this._csvManager.queryOne(n,e,r)},e.queryByID=function(n,e){return this._csvManager.queryByID(n,e)},e.getTable=function(n){return this._csvManager.getTable(n)},e.getTableArr=function(n){return this._csvManager.getTableArr(n)},e.queryAll=function(n,e,r){return this._csvManager.queryAll(n,e,r)},e.queryIn=function(n,e,r){return this._csvManager.queryIn(n,e,r)},e.queryByCondition=function(n,e){return this._csvManager.queryByCondition(n,e)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/lodash.ts",["cc"],(function(r){var n,t;return{setters:[function(r){n=r.cclegacy,t=r._decorator}],execute:function(){var e,u;n._RF.push({},"91b3dHIPmFNBZNLtmS7USW/","lodash",void 0);var i=t.ccclass;r("Lodash",i("Lodash")(((u=function(){function r(){}return r.find=function(n,t){var e;if(Array.isArray(n)||(n=r._toArray(n)),(e=n.filter(t)).length)return e[0]},r.forEach=function(n,t){Array.isArray(n)?n.forEach(t):r._toArrayKey(n).forEach((function(r,e,u){var i=r.key,o=r.value;t(o,i,n)}))},r.cloneDeep=function(n){if(null===n||"object"!=typeof n)return n;var t={};for(var e in n.constructor===Array&&(t=[]),n)n.hasOwnProperty(e)&&(t[e]=r.cloneDeep(n[e]));return t},r.map=function(n,t){Array.isArray(n)||(n=r._toArray(n));var e=[];return n.forEach((function(r,n,u){e.push(t(r,n,u))})),e},r._toArrayKey=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push({key:t,value:r[t]});return n},r._toArray=function(r){var n=[];for(var t in r)r.hasOwnProperty(t)&&n.push(r[t]);return n},r.filter=function(n,t){return Array.isArray(n)||(n=r._toArray(n)),n.filter(t)},r.isEqual=function(n,t){if(!(n instanceof Object)||!(t instanceof Object))return n===t;if(Object.keys(n).length!==Object.keys(t).length)return!1;for(var e in n){var u=n[e]instanceof Object,i=t[e]instanceof Object;if(u&&i)return r.isEqual(n[e],t[e]);if(n[e]!==t[e])return!1}return!0},r.pullAllWith=function(r,n,t){return n.forEach((function(n){r.filter((function(r){return t(r,n)})).forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)}))})),r},r.now=function(){return Date.now()},r.pullAll=function(r,n){return n.forEach((function(n){var t=r.indexOf(n);-1!==r.indexOf(n)&&r.splice(t,1)})),r},r.forEachRight=function(n,t){Array.isArray(n)||(n=r._toArray(n));for(var e=n.length-1;e>=0;e--){if(!t(n[e]))break}},r.startsWith=function(r,n,t){return(r=r.substr(t)).startsWith(n)},r.endsWith=function(r,n,t){return(r=r.substr(t)).endsWith(n)},r.remove=function(n,t){var e=[],u=[];return n.forEach((function(r,n){t(r)&&(e.push(r),u.push(n))})),r._basePullAt(n,u),e},r._basePullAt=function(r,n){for(var t,e=r?n.length:0,u=e-1;e--;){var i=n[e];e!==u&&i===t||(t=i,Array.prototype.splice.call(r,i,1))}return r},r.findIndex=function(r,n,t){var e;if(r=r.slice(t),"function"==typeof n){for(e=0;e<r.length;e++)if(n(r[e]))return e}else if(Array.isArray(n))for(e=0;e<r.length;e++){var u=n[0],i=!0;if(n.length>1&&(i=n[1]),r[e][u]===i)return e}else for(e=0;e<r.length;e++)if(r[e]===n)return e;return-1},r.concat=function(){var r=arguments.length;if(!r)return[];for(var n=arguments[0],t=1;t<r;)n=n.concat(arguments[t]),t++;return n},r.isNumber=function(r){return"number"==typeof r},r.indexOf=function(r,n,t){return(r=r.slice(t)).indexOf(n)},r.join=function(r,n){if(null===r)return"";var t="";return r.forEach((function(r){t+=r+n})),t.substr(0,t.length-1)},r.split=function(r,n,t){return r.split(n,t)},r.max=function(r){if(r&&r.length){for(var n,t=0;t<r.length;t++)0===t?n=r[0]:n<r[t]&&(n=r[t]);return n}},r.drop=function(r,n){return(null===r?0:r.length)?r.slice(n):[]},r.flattenDeep=function(n){return n.reduce((function(n,t){return n.concat(Array.isArray(t)?r.flattenDeep(t):t)}),[])},r.uniq=function(r){var n=[];return r.forEach((function(r){-1===n.indexOf(r)&&n.push(r)})),n},r.isNaN=function(n){return r.isNumber(n)&&n!==+n},r.chunk=function(r,n){if(!(null===r?0:r.length)||n<1)return[];for(var t=[];r.length>n;)t.push(r.slice(0,n)),r=r.slice(n);return t.push(r),t},r.toFinite=function(r){var n=1/0;return r?(r=Number(r))===n||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0},r.isObject=function(r){var n=typeof r;return null!==r&&("object"===n||"function"===n)},r.isLength=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=r.MAX_SAFE_INTEGER},r._isArrayLike=function(n){return null!==n&&r.isLength(n.length)},r.maxBy=function(r,n){if(r&&r.length){for(var t,e,u=0;u<r.length;u++)0===u?(t=n(r[0]),e=r[0]):t<r[u]&&(t=r[u],e=r[u]);return e}},r.minBy=function(r,n){if(r&&r.length){for(var t,e,u=0;u<r.length;u++)0===u?(t=n(r[0]),e=r[0]):t>r[u]&&(t=n(r[u]),e=r[u]);return e}},r.sumBy=function(r,n){var t=0;for(var e in r)t+=n(r[e]);return t},r.countBy=function(r,n){var t={};for(var e in r){var u=n(e);t.hasOwnProperty(u)?t[u]+=1:t[u]=1}return t},r}()).MAX_SAFE_INTEGER=9007199254740991,e=u))||e);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./env.ts","./migrate-canvas.ts","./GameScene.ts","./RoomScene.ts","./MathUtil.ts","./TweenPool.ts","./audioManager.ts","./clientEvent.ts","./constant2.ts","./loadCsv.ts","./lodash.ts","./playerData.ts","./poolManager.ts","./resourceUtil.ts","./sdkUtil.ts","./storageManager.ts","./util.ts","./GameStateManager.ts","./BulletsManager.ts","./EnemiesManager.ts","./Enemy.ts","./PlayerBullet.ts","./PlayerPlane.ts","./PlayersManager.ts","./constant.ts","./csvManager.ts","./localConfig.ts","./GameSystem.ts","./gameConfig.ts","./BulletState.ts","./EnemyState.ts","./PlayerState.ts","./PtlJoin.ts","./MsgClientInput.ts","./MsgFrame.ts","./serviceProto.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MathUtil.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"2e6a6mG1HhFNYesG/6pJW1g","MathUtil",void 0);t("MathUtil",function(){function t(){}return t.limit=function(t,n,i){return Math.min(i,Math.max(n,t))},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/migrate-canvas.ts",["cc"],(function(){var n,e,t,i,r,o,a;return{setters:[function(c){n=c.cclegacy,e=c.director,t=c.Director,i=c.Canvas,r=c.Camera,o=c.game,a=c.Node}],execute:function(){n._RF.push({},"3f141c+VKdCPZwiDv5aHGNP","migrate-canvas",void 0);var c=1048575;function l(n,e){for(var t=0,i=n.children.length;t<i;t++)n.children[t].layer=e,l(n.children[t],e)}e.on(t.EVENT_AFTER_SCENE_LAUNCH,(function(){var n,t,a,s=null==(n=e.getScene())?void 0:n.children,m=null==(t=e.getScene())?void 0:t.getComponentsInChildren(i);if(!(m.length<=1)){m=m.filter((function(n){return!!n.cameraComponent}));var v=null==(a=e.getScene())?void 0:a.getComponentsInChildren(r),p=0;v.forEach((function(n){return p|=n.visibility&c}));for(var u=[],f=0,C=s.length;f<C;f++){var h=s[f];if(o.isPersistRootNode(h)){var d=h.getComponentsInChildren(i);0!==d.length&&u.push.apply(u,d.filter((function(n){return!!n.cameraComponent})))}}u.forEach((function(n){if(m.find((function(e){return e!==n&&e.cameraComponent.visibility&n.cameraComponent.visibility&c}))){var e=~p,t=e&~(e-1);n.cameraComponent.visibility=t|4293918720&n.cameraComponent.visibility,l(n.node,t),p|=e}}))}}));var s=a.prototype.setParent;function m(n){var e=0,t=n.getComponent(i);return t&&t.cameraComponent?e=t.cameraComponent.visibility&t.node.layer?t.node.layer:t.cameraComponent.visibility&~(t.cameraComponent.visibility-1):(n.parent&&(e=m(n.parent)),e)}a.prototype.setParent=function(n,e){if(s.call(this,n,e),n){var t=m(this);t&&(this.layer=t,l(this,t))}},n._RF.pop()}}}));

System.register("chunks:///_virtual/MsgClientInput.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"dd95fyDOQZKjZg6OH/vta5V","MsgClientInput",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/MsgFrame.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"e202dhC0YhOyoBYqnMXFDol","MsgFrame",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerBullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MathUtil.ts","./GameStateManager.ts","./Enemy.ts","./constant2.ts","./clientEvent.ts"],(function(t){var e,n,o,i,s,r,a,l,_,d,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,i=t.Vec3,s=t.Collider,r=t.Component},function(t){a=t.MathUtil},function(t){l=t.GameStateManager},function(t){_=t.Enemy},function(t){d=t.Constant},function(t){u=t.ClientEvent}],execute:function(){var c;n._RF.push({},"ce0be9b+F5L8pezt9w8a4J5","PlayerBullet",void 0);var h=o.ccclass;o.property,t("PlayerBullet",h("PlayerBullet")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._bulletId=void 0,e._state=void 0,e._startPos=new i,e._endPos=new i,e._startTime=0,e._endTime=0,e._fromPlayerId=void 0,e._onBulletRemoveCB=void 0,e._target=void 0,e._isRemoved=!1,e}e(n,t);var o=n.prototype;return o.start=function(){},o.init=function(t){this._isRemoved=!1,this._bulletId=t.id,this._fromPlayerId=t.fromPlayerId,this._state=t,this._startPos.set(t.pos.x,0,t.pos.z),this._endPos.set(t.targetPos.x,0,t.targetPos.z),this._startTime=Date.now();var e=i.distance(this._startPos,this._endPos);if(this._endTime=this._startTime+e/20*1e3,l.instance.getSelfPlayerId()==this._fromPlayerId){console.log("PlayerBullet init");var n=this.getComponent(s);n.setGroup(1),n.setMask(2),n.on("onTriggerEnter",this.onTrigger,this)}this._updatePosAndForward(0)},o.onBulletRemoveCB=function(t,e){this._onBulletRemoveCB=t,this._target=e},o.update=function(t){var e=a.limit((Date.now()-this._startTime)/(this._endTime-this._startTime),0,1);this._updatePosAndForward(e),e>=1&&this.remove()},o.remove=function(){var t;this._isRemoved||(this._isRemoved=!0,null==(t=this._onBulletRemoveCB)||t.call(this._target,this._bulletId))},o._updatePosAndForward=function(t){var e=this._getPos(t);this.node.position=e},o._getPos=function(t){return this._startPos.clone().lerp(this._endPos,t)},o.onTrigger=function(t){if(l.instance.getSelfPlayerId()==this._fromPlayerId){var e=t.otherCollider.node.getComponent(_).getEnemyId();u.dispatchEvent(d.EVENT_TYPE.ON_PLAYER_BULLET_COLLIDE,this._bulletId,e)}},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/playerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./constant2.ts","./storageManager.ts","./util.ts"],(function(t){var e,n,s,i,a,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,s=t.sys},function(t){i=t.Constant},function(t){a=t.StorageManager},function(t){o=t.Util}],execute:function(){n._RF.push({},"249feI5WsFNaqhmDXkwb/uu","playerData",void 0),t("PlayerData",function(){function t(){this.serverTime=0,this.localTime=0,this._userId="",this._playerInfo=null,this._history=null,this._settings=null,this._isNewBee=!1,this._dataVersion=""}var n=t.prototype;return n.loadGlobalCache=function(){var t=a.instance.getUserId();t&&(this._userId=t)},n.loadFromCache=function(){this._playerInfo=this._loadDataByKey(i.LOCAL_CACHE.PLAYER),this._history=this._loadDataByKey(i.LOCAL_CACHE.HISTORY),this._settings=this._loadDataByKey(i.LOCAL_CACHE.SETTINGS)},n._loadDataByKey=function(t){var e={},n=a.instance.getConfigData(t);if(n)try{e=JSON.parse(n)}catch(t){e={}}return e},n.createPlayerInfo=function(t){if(this._playerInfo={diamond:0,key:0,level:1,createDate:new Date},this._isNewBee=!0,t)for(var e in t)this._playerInfo[e]=t[e];this.savePlayerInfoToLocalCache()},n.generateRandomAccount=function(){this.userId=""+Date.now()+o.getRandomInt(0,1e3),a.instance.setUserId(this._userId)},n.saveAccount=function(t){this._userId=t,a.instance.setUserId(t)},n.savePlayerInfoToLocalCache=function(){a.instance.setConfigData(i.LOCAL_CACHE.PLAYER,JSON.stringify(this._playerInfo))},n.saveSettingsToLocalCache=function(){a.instance.setConfigData(i.LOCAL_CACHE.SETTINGS,JSON.stringify(this._settings))},n.saveAll=function(){a.instance.setConfigDataWithoutSave(i.LOCAL_CACHE.PLAYER,JSON.stringify(this._playerInfo)),a.instance.setConfigDataWithoutSave(i.LOCAL_CACHE.HISTORY,JSON.stringify(this._history)),a.instance.setConfigDataWithoutSave(i.LOCAL_CACHE.SETTINGS,JSON.stringify(this._settings)),a.instance.setConfigData(i.LOCAL_CACHE.DATA_VERSION,this._dataVersion)},n.updatePlayerInfo=function(t,e){var n=!1;this._playerInfo.hasOwnProperty(t)&&("number"==typeof e?(n=!0,this._playerInfo[t]+=e,this._playerInfo[t]<0&&(this._playerInfo[t]=0)):"boolean"!=typeof e&&"string"!=typeof e||(n=!0,this._playerInfo[t]=e)),n&&a.instance.setConfigData(i.LOCAL_CACHE.PLAYER,JSON.stringify(this._playerInfo))},n.getSetting=function(t){return this._settings&&this._settings.hasOwnProperty(t)?this._settings[t]:null},n.setSetting=function(t,e){this._settings||(this._settings={}),this._settings[t]=e,this.saveSettingsToLocalCache()},n.clear=function(){this._playerInfo={},this._settings={},this.saveAll()},e(t,[{key:"userId",get:function(){return this._userId},set:function(t){this._userId=t}},{key:"settings",get:function(){return this._settings},set:function(t){this._settings=t}},{key:"playerInfo",get:function(){return this._playerInfo}},{key:"history",get:function(){return this._history}},{key:"isNewBee",get:function(){return this._isNewBee},set:function(t){this._isNewBee=t}}],[{key:"instance",get:function(){return this._instance||(window.cocosAnalytics&&window.cocosAnalytics.init({appID:"699860099",version:"1.0.0",storeID:s.platform.toString(),engine:"cocos"}),this._instance=new t),this._instance}}]),t}())._instance=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerPlane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./gameConfig.ts","./TweenPool.ts"],(function(t){var e,s,i,o,n,r,l,a,_;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t._decorator,o=t.tween,n=t.Quat,r=t.Vec3,l=t.Component},function(t){a=t.gameConfig},function(t){_=t.TweenPool}],execute:function(){var h;s._RF.push({},"1d9baXXEIpCx4onvsUxBJNs","PlayerPlane",void 0);var u=i.ccclass;i.property,t("PlayerPlane",u("PlayerPlane")(h=function(t){function s(){for(var e,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._isSelf=!1,e._playerId=void 0,e._tweens=new _,e._targetPos=new r,e._isRolling=!1,e._rollOverTime=-1,e._isRoute=!1,e._rad=0,e._temp_quat=new n,e}e(s,t);var i=s.prototype;return i.getIsSelf=function(){return this._isSelf},i.getPlayerId=function(){return this._playerId},i.setTargetPos=function(t){this._targetPos=t},i.start=function(){},i.init=function(t,e){this._playerId=t,this._isSelf=e},i.updateState=function(t){this._isSelf?this._resetState(t):this._tweenState(t)},i._resetState=function(t){var e=this;this._targetPos.x!==t.pos.x||this._targetPos.z!==t.pos.z?(this._targetPos.set(t.pos.x,0,t.pos.z),this._setRollState(),this.node.setPosition(t.pos.x,0,t.pos.z)):1==this._isRolling&&-1==this._rollOverTime&&(this._rollOverTime=setTimeout((function(){e._rollOver()}),a.planeRollOverDelayTime))},i._tweenState=function(t){var e=this;this._targetPos.x===t.pos.x&&this._targetPos.z===t.pos.z||(this._tweens.clear(),this.node.setPosition(this._targetPos),this._targetPos.set(t.pos.x,0,t.pos.z),this._tweens.add(o(this.node).to(1/a.syncRate,{position:this._targetPos},{onUpdate:function(t,s){e._setRollState()}}).call((function(){-1==e._rollOverTime&&(console.log("rollOverTime is running"),e._rollOverTime=setTimeout((function(){e._rollOver()}),a.planeRollOverDelayTime))})).start()))},i._setRollState=function(){this._rollOverTime&&(clearTimeout(this._rollOverTime),this._rollOverTime=-1),this._isRolling=!0,this._isRoute=!0,this._isRoute&&(this.node.getRotation(this._temp_quat),this._targetPos.x>this.node.x?this.node.eulerAngles.z>0?this._resetRotation():this.node.eulerAngles.z<=-60?this._isRoute=!1:(this._rad=-Number(Math.PI)/180*2,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat)):this._targetPos.x<this.node.x&&(this.node.eulerAngles.z<0?this._resetRotation():this.node.eulerAngles.z>=60?this._isRoute=!1:(this._rad=Number(Math.PI)/180*2,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat))))},i._rollOver=function(){this._rollOverTime&&(clearTimeout(this._rollOverTime),this._rollOverTime=-1),this._isRolling=!1,this._isRoute=!1,this._resetRotation()},i._resetRotation=function(){this._rad=-this.node.eulerAngles.z*Number(Math.PI)/180,n.rotateZ(this._temp_quat,this._temp_quat,this._rad),this.node.setRotation(this._temp_quat)},s}(l))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/PlayersManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerPlane.ts","./constant2.ts","./resourceUtil.ts","./GameStateManager.ts"],(function(e){var t,n,a,r,s,c,o,i,l,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,r=e._decorator,s=e.instantiate,c=e.Component},function(e){o=e.PlayerPlane},function(e){i=e.Constant},function(e){l=e.ResourceUtil},function(e){u=e.GameStateManager}],execute:function(){var p,y;a._RF.push({},"e7484TUIwZK5JrD3/NkpcZ/","PlayersManager",void 0);var P=r.ccclass;r.property,e("PlayersManager",P("PlayersManager")(((y=function(e){function a(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this)._playersInstances={},t}t(a,e);var r=a.prototype;return r.start=function(){},r.init=function(){var e=this;u.instance.gameSystem.clearPlayer.push((function(t){e._clearPlayer(t)}))},r._clearPlayer=function(e){var t=this._playersInstances[e];this.node.removeChild(t.node),delete this._playersInstances[e]},r.updatePlayers=function(){var e=u.instance.state.players;if(e&&0!==e.length)for(var t,a=n(e);!(t=a()).done;){var r=t.value,s=this._playersInstances[r.id];s?s.updateState(r):this._createPlayerInstances(r)}},r._createPlayerInstances=function(e){var t=this,n=i.LOADING_PATH.PLAYER_PLANE;n=1==e.planeId?i.LOADING_PATH.PLAYER_PLANE_1:i.LOADING_PATH.PLAYER_PLANE_4,l.loadModelRes(n).then((function(n){var a=s(n),r=t._playersInstances[e.id]=a.getComponent(o);a.parent=t.node,a.active=!0;var c=e.id;r.init(c,c===u.instance.getSelfPlayerId()),a.setPosition(e.pos.x,0,e.pos.z)})).catch((function(e){}))},a}(c)).isMusic=!0,y.starting=!1,p=y))||p);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerState.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b742bn0yjdF/Y5FOj7pMTym","PlayerState",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/poolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,i,r;return{setters:[function(t){o=t.createClass},function(t){e=t.cclegacy,n=t._decorator,i=t.instantiate,r=t.NodePool}],execute:function(){var a,c;e._RF.push({},"9590eZ0DPNHZLqqpr62I8d+","poolManager",void 0);var s=n.ccclass;n.property,t("PoolManager",s("PoolManager")(((c=function(){function t(){this._dictPool={},this._dictPrefab={}}var e=t.prototype;return e.getNode=function(t,o){var e=t.name;t.position||(e=t.data.name),this._dictPrefab[e]=t;var n=null;if(this._dictPool.hasOwnProperty(e)){var a=this._dictPool[e];n=a.size()>0?a.get():i(t)}else{var c=new r;this._dictPool[e]=c,n=i(t)}return n.parent=o,n.active=!0,n},e.putNode=function(t){if(t){var o=t.name,e=null;this._dictPool.hasOwnProperty(o)?e=this._dictPool[o]:(e=new r,this._dictPool[o]=e),e.put(t)}},e.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},e.prePool=function(t,o){var e=t.name,n=new r;this._dictPool[e]=n;for(var a=0;a<o;a++){var c=i(t);n.put(c)}},e.destroyNode=function(t){t.destroy()},o(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t),this._instance}}]),t}())._instance=void 0,a=c))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/PtlJoin.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"c1283RLkm9DYI2EyOOFDD10","PtlJoin",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/resourceUtil.ts",["cc"],(function(e){var n,o,t,r,i,a,s,l,u,d;return{setters:[function(e){n=e.cclegacy,o=e._decorator,t=e.resources,r=e.error,i=e.Prefab,a=e.SpriteFrame,s=e.Texture2D,l=e.instantiate,u=e.find,d=e.isValid}],execute:function(){var f,c;n._RF.push({},"7ddc3l0EaBH6p7t2v70ZrSp","resourceUtil",void 0);var m=o.ccclass;e("ResourceUtil",m("ResourceUtil")(((c=function(){function e(){}return e.loadRes=function(e,n,o){void 0===o&&(o=function(){}),t.load(e,(function(e,n){if(e)return r(e.message||e),void o(e,n);o&&o(null,n)}))},e.loadEffectRes=function(e){var n=this;return new Promise((function(o,t){n.loadRes("prefab/effect/"+e,i,(function(n,r){if(n)return console.error("effect load failed",e),void(t&&t());o&&o(r)}))}))},e.loadModelRes=function(e){var n=this;return new Promise((function(o,t){n._isLoadingModulePath.indexOf(e)>-1?t&&t(new Error("model is loading:"+e)):(n._isLoadingModulePath.push(e),n.loadRes("prefab/model/"+e,i,(function(r,i){n._isLoadingModulePath.remove(e),r?t&&t(new Error("model load failed:"+e)):o&&o(i)})))}))},e.loadModelResArr=function(e,n,o,r){var a=n.map((function(n){return e+"/"+n}));t.load(a,i,o,r)},e.loadSpriteFrameRes=function(e){var n=this;return new Promise((function(o,t){n.loadRes(e,a,(function(n,r){if(n)return console.error("spriteFrame load failed!",e,n),void(t&&t());var i=new s;i.image=r;var l=new a;l.texture=i,o&&o(l)}))}))},e.getMap=function(e,n){var o="map";o+=e>=100?e:e>=10?"0"+e:"00"+e,this.loadRes("map/config/"+o,null,(function(e,o){if(e)n(e,o);else{var t="";if(o._file){window.LZString&&(t=window.LZString.decompressFromEncodedURIComponent(o._file));var r=JSON.parse(t);n(null,r)}else if(o.text){window.LZString&&(t=window.LZString.decompressFromEncodedURIComponent(o.text));r=JSON.parse(t);n(null,r)}else o.json?n(null,o.json):n("failed")}}))},e.getMapObj=function(e,n,o,r){for(var a=[],s=0;s<n.length;s++)a.push("map/"+e+"/"+n[s]);t.load(a,i,o,r)},e.getUIPrefabRes=function(e,n){this.loadRes("prefab/ui/"+e,i,n)},e.createUI=function(e,n,o){this.getUIPrefabRes(e,(function(e,t){if(!e){var r=l(t);r.setPosition(0,0,0),o||(o=u("Canvas")),o.addChild(r),n&&n(null,r)}}))},e.getJsonData=function(e,n){this.loadRes("datas/"+e,null,(function(e,o){e?r(e.message||e):o.json?n(e,o.json):n("failed!!!")}))},e.getTextData=function(e,n){this.loadRes("datas/"+e,null,(function(e,o){if(e)r(e.message||e);else{var t=o.text;n(e,t)}}))},e.setSpriteFrame=function(e,n,o){this.loadRes(e+"/spriteFrame",a,(function(t,r){if(t)return console.error("set sprite frame failed! err:",e,t),void o(t);n&&d(n)&&(n.spriteFrame=r,o(null))}))},e}())._isLoadingModulePath=[],f=c))||f);n._RF.pop()}}}));

System.register("chunks:///_virtual/RoomScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameScene.ts"],(function(n){var t,e,i,o,r,l,a,c,s,p,u,h;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,l=n._decorator,a=n.Node,c=n.Button,s=n.director,p=n.Label,u=n.Component},function(n){h=n.GameScene}],execute:function(){var C,g,B,d,m,f,b,y,S;r._RF.push({},"b2bab9gzW1Gx48lTQdSa+6J","RoomScene",void 0);var j=l.ccclass,v=l.property;n("RoomScene",(C=j("RoomScene"),g=v(a),B=v(a),d=v(a),C((b=t((f=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return t=n.call.apply(n,[this].concat(r))||this,i(t,"startBtnNode",b,o(t)),i(t,"joinBtn1",y,o(t)),i(t,"joinBtn2",S,o(t)),t._isSinglePlayerMode=!0,t}e(t,n);var r=t.prototype;return r.onLoad=function(){this.startBtnNode.on(c.EventType.CLICK,this.onStartBtnClick,this),this.joinBtn1.on(c.EventType.CLICK,this.onJoinBtn1Click,this),this.joinBtn2.on(c.EventType.CLICK,this.onJoinBtn2Click,this)},r.start=function(){},r.update=function(n){},r.onStartBtnClick=function(){var n=this;console.log("onStartBtnClick"),s.loadScene("GameScene",(function(){var t=s.getScene();t&&t.getComponentInChildren(h).init(n._isSinglePlayerMode)}))},r.onJoinBtn1Click=function(){console.log("onJoinBtn1Click"),this.joinBtn1.getComponentInChildren(p).string="单机√",this.joinBtn1.getComponent(c).interactable=!1,this.joinBtn2.getComponentInChildren(p).string="联机",this.joinBtn2.getComponent(c).interactable=!0,this._isSinglePlayerMode=!0},r.onJoinBtn2Click=function(){console.log("onJoinBtn2Click"),this.joinBtn2.getComponentInChildren(p).string="联机√",this.joinBtn2.getComponent(c).interactable=!1,this.joinBtn1.getComponentInChildren(p).string="单机",this.joinBtn1.getComponent(c).interactable=!0,this._isSinglePlayerMode=!1},t}(u)).prototype,"startBtnNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(f.prototype,"joinBtn1",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(f.prototype,"joinBtn2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/sdkUtil.ts",["cc","./playerData.ts","./constant2.ts","./audioManager.ts","./storageManager.ts"],(function(e){var n,t,i,o,a,s,c;return{setters:[function(e){n=e.cclegacy,t=e.sys,i=e.native},function(e){o=e.PlayerData},function(e){a=e.Constant},function(e){s=e.AudioManager},function(e){c=e.StorageManager}],execute:function(){n._RF.push({},"8b420jRAS5JUKHl966xZL3f","sdkUtil",void 0);var r=e("SdkUtil",function(){function e(){}return e.customEventStatistics=function(e,n){e=e.toString(),n||(n={}),n.isNewBee=o.instance.isNewBee,"wx"===this.platform&&window.wx&&window.wx.aldSendEvent&&window.wx.aldSendEvent(e,n),"cocos"===this.platform&&window.cocosAnalytics&&window.cocosAnalytics.isInited()&&(console.log("###统计",e,n),window.cocosAnalytics.CACustomEvent.onStarted(e,n))},e.vibrateShort=function(){var e;if(null==(e=c.instance.getGlobalData("vibration"))||e){var n=Date.now();n-this.vibratePreTime>=this.vibrateInterval&&(t.isNative?i.reflection.callStaticMethod("com/cocos/game/AppActivity","vibrator","()V"):window.wx&&wx.vibrateShort({success:function(e){},fail:function(){},complete:function(){}}),this.vibratePreTime=n)}},e.shareGame=function(e,n){window.wx&&(wx.showShareMenu({withShareTicket:!0,complete:function(){}}),wx.aldOnShareAppMessage?wx.aldOnShareAppMessage((function(){return{title:e,imageUrl:n}})):wx.onShareAppMessage((function(){return{title:e,imageUrl:n}})))},e.updatePayIcon=function(e,n,t,i,o){var s=this;if("ios"===this.platform||"wx"===this.platform){if("ios"===this.platform)return;window.bondSDK&&window.bondSDK.getPayType({shareId:e,callback:function(e){switch(console.log("###updatePayIcon.type",e),e){case a.OPEN_REWARD_TYPE.AD:n.node.active=!0,n.spriteFrame=i||s.imgAd;break;case a.OPEN_REWARD_TYPE.SHARE:n.node.active=!0,n.spriteFrame=o||s.imgShare;break;case a.OPEN_REWARD_TYPE.NULL:n.node.active=!1}t&&t(e)}})}else{if("cocosPlay"===this.platform)return;n.node.active=!1,t&&t(a.OPEN_REWARD_TYPE.NULL)}},e.getPayType=function(e,n){window.bondSDK?window.bondSDK.getPayType({shareId:e,callback:function(e){console.log("###getPayType.type",e),n(e)}}):"cocosPlay"===this.platform||n&&n(a.OPEN_REWARD_TYPE.NULL)},e.pay=function(e,n){var t=this;console.log("###gameLogic.pay","shareId",e),s.instance.pauseAll(),this.isWatchVideoAd=!0,"ios"!==this.platform&&"wx"!==this.platform||!window.bondSDK?"cocosPlay"===this.platform||(this.isWatchVideoAd=!1,s.instance.resumeAll(),n&&n(null)):window.bondSDK.pay({shareId:e,success:function(){console.log("###pay.success","shareId",e),s.instance.resumeAll(),t.isWatchVideoAd=!1,n(null)},fail:function(i){console.log("###pay.fail","shareId",e),s.instance.resumeAll(),t.isWatchVideoAd=!1,n("fail",i)}})},e.showBannerAd=function(e){"wx"===this.platform&&window.bondSDK?window.bondSDK.showKeepOutBanner({adPlaceName:e}):"ios"===this.platform&&window.bondSDK?window.bondSDK.showAdBanner({adPlaceName:e}):this.platform},e.hideBannerAd=function(){"wx"===this.platform&&window.bondSDK?window.bondSDK.hideKeepOutBanner():"ios"===this.platform&&window.bondSDK?window.bondSDK.hideAdBanner():this.platform},e}());r.platform="cocos",r.imgAd=null,r.imgShare=null,r.isDebugMode=!1,r.onlineInterval=-1,r.isEnableVibrate=!0,r.isCheckOffline=!1,r.isWatchVideoAd=!1,r.isEnableMoving=!1,r.isEnableZoom=!1,r.arrLockDiary=[],r.vibrateInterval=100,r.vibratePreTime=0,n._RF.pop()}}}));

System.register("chunks:///_virtual/serviceProto.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e3358p3WCVFY4F4Xtt9n8xi","serviceProto",void 0);e("serviceProto",{version:15,services:[{id:0,name:"client/ClientInput",type:"msg"},{id:1,name:"Join",type:"api"},{id:2,name:"server/Frame",type:"msg"}],types:{"client/MsgClientInput/MsgClientInput":{type:"Interface",properties:[{id:0,name:"sn",type:{type:"Number"}},{id:1,name:"inputs",type:{type:"Array",elementType:{type:"Reference",target:"client/MsgClientInput/ClientInput"}}}]},"client/MsgClientInput/ClientInput":{type:"Union",members:[{id:0,type:{target:{type:"Reference",target:"../game/GameSystem/PlayerMove"},keys:["playerId"],type:"Omit"}},{id:1,type:{target:{type:"Reference",target:"../game/GameSystem/PlayerAttack"},keys:["playerId"],type:"Omit"}},{id:2,type:{target:{type:"Reference",target:"../game/GameSystem/PlayerBulletCollide"},keys:["playerId"],type:"Omit"}}]},"../game/GameSystem/PlayerMove":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"PlayerMove"}},{id:1,name:"playerId",type:{type:"Number"}},{id:2,name:"speed",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:1,name:"y",type:{type:"Number"}}]}},{id:3,name:"dt",type:{type:"Number"}}]},"../game/GameSystem/PlayerAttack":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"PlayerAttack"}},{id:1,name:"playerId",type:{type:"Number"}},{id:4,name:"pos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:2,name:"z",type:{type:"Number"}}]}},{id:2,name:"targetPos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:2,name:"z",type:{type:"Number"}}]}},{id:3,name:"targetTime",type:{type:"Number"}}]},"../game/GameSystem/PlayerBulletCollide":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"PlayerBulletCollide"}},{id:1,name:"playerId",type:{type:"Number"}},{id:2,name:"playerBulletId",type:{type:"Number"}},{id:3,name:"enemyId",type:{type:"Number"}}]},"PtlJoin/ReqJoin":{type:"Interface"},"PtlJoin/ResJoin":{type:"Interface",properties:[{id:0,name:"playerId",type:{type:"Number"}},{id:1,name:"gameState",type:{type:"Reference",target:"../game/GameSystem/GameSystemState"}}]},"../game/GameSystem/GameSystemState":{type:"Interface",properties:[{id:6,name:"gameState",type:{type:"Number"}},{id:0,name:"now",type:{type:"Number"}},{id:9,name:"currStageId",type:{type:"Number"}},{id:10,name:"currTime",type:{type:"Number"}},{id:11,name:"combinationInterval",type:{type:"Number"}},{id:15,name:"combinationEnd",type:{type:"Boolean"}},{id:1,name:"players",type:{type:"Array",elementType:{type:"Reference",target:"../game/state/PlayerState/PlayerState"}}},{id:5,name:"nextBulletId",type:{type:"Number"}},{id:4,name:"playersBullets",type:{type:"Array",elementType:{type:"Reference",target:"../game/state/BulletState/BulletState"}}},{id:8,name:"enemies",type:{type:"Array",elementType:{type:"Reference",target:"../game/state/EnemyState/EnemyState"}}},{id:12,name:"nextEnemyBulletId",type:{type:"Number"}},{id:13,name:"enemiesBullets",type:{type:"Array",elementType:{type:"Reference",target:"../game/state/BulletState/BulletState"}}},{id:14,name:"nextEnemyId",type:{type:"Number"}}]},"../game/state/PlayerState/PlayerState":{type:"Interface",properties:[{id:0,name:"id",type:{type:"Number"}},{id:3,name:"planeId",type:{type:"Number"}},{id:1,name:"pos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:2,name:"z",type:{type:"Number"}}]}},{id:4,name:"nextAttackTime",type:{type:"Number"}}]},"../game/state/BulletState/BulletState":{type:"Interface",properties:[{id:0,name:"id",type:{type:"Number"}},{id:1,name:"fromPlayerId",type:{type:"Number"}},{id:2,name:"targetTime",type:{type:"Number"}},{id:3,name:"pos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:2,name:"z",type:{type:"Number"}}]}},{id:4,name:"targetPos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:2,name:"z",type:{type:"Number"}}]}}]},"../game/state/EnemyState/EnemyState":{type:"Interface",properties:[{id:0,name:"id",type:{type:"Number"}},{id:13,name:"attribute",type:{type:"Reference",target:"../game/GameSystem/EnemyAttribute"}},{id:17,name:"currPos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:1,name:"z",type:{type:"Number"}}]}},{id:14,name:"currRouteId",type:{type:"Number"}},{id:15,name:"currRST",type:{type:"Number"}},{id:16,name:"currRET",type:{type:"Number"}},{id:18,name:"nextAttackTime",type:{type:"Number"}},{id:3,name:"deadFlg",type:{type:"Boolean"}}]},"../game/GameSystem/EnemyAttribute":{type:"Interface",properties:[{id:12,name:"planeId",type:{type:"Number"}},{id:0,name:"hp",type:{type:"Number"}},{id:1,name:"score",type:{type:"Number"}},{id:2,name:"pos",type:{type:"Array",elementType:{type:"Number"}}},{id:3,name:"speed",type:{type:"Number"}},{id:4,name:"isAttack",type:{type:"Number"}},{id:5,name:"barrageID",type:{type:"Number"}},{id:6,name:"interval",type:{type:"Number"}},{id:7,name:"props",type:{type:"Number"}},{id:8,name:"stars",type:{type:"Number"}},{id:9,name:"route1",type:{type:"Array",elementType:{type:"String"}}},{id:10,name:"route2",type:{type:"Array",elementType:{type:"String"}}},{id:11,name:"route3",type:{type:"Array",elementType:{type:"String"}}}]},"server/MsgFrame/MsgFrame":{type:"Interface",properties:[{id:0,name:"inputs",type:{type:"Array",elementType:{type:"Reference",target:"../game/GameSystem/GameSystemInput"}}},{id:1,name:"lastSn",type:{type:"Number"},optional:!0}]},"../game/GameSystem/GameSystemInput":{type:"Union",members:[{id:0,type:{type:"Reference",target:"../game/GameSystem/PlayerMove"}},{id:2,type:{type:"Reference",target:"../game/GameSystem/PlayerJoin"}},{id:3,type:{type:"Reference",target:"../game/GameSystem/PlayerLeave"}},{id:4,type:{type:"Reference",target:"../game/GameSystem/TimePast"}},{id:5,type:{type:"Reference",target:"../game/GameSystem/GameStart"}},{id:1,type:{type:"Reference",target:"../game/GameSystem/PlayerAttack"}},{id:8,type:{type:"Reference",target:"../game/GameSystem/PlayerBulletCollide"}},{id:7,type:{type:"Reference",target:"../game/GameSystem/EnemyJoin"}}]},"../game/GameSystem/PlayerJoin":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"PlayerJoin"}},{id:1,name:"playerId",type:{type:"Number"}},{id:3,name:"planeId",type:{type:"Number"}},{id:2,name:"pos",type:{type:"Interface",properties:[{id:0,name:"x",type:{type:"Number"}},{id:2,name:"z",type:{type:"Number"}}]}}]},"../game/GameSystem/PlayerLeave":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"PlayerLeave"}},{id:1,name:"playerId",type:{type:"Number"}}]},"../game/GameSystem/TimePast":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"TimePast"}},{id:1,name:"dt",type:{type:"Number"}}]},"../game/GameSystem/GameStart":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"GameStart"}},{id:1,name:"playerId",type:{type:"Number"}}]},"../game/GameSystem/EnemyJoin":{type:"Interface",properties:[{id:0,name:"type",type:{type:"Literal",literal:"EnemyJoin"}},{id:1,name:"enemyId",type:{type:"Number"}},{id:12,name:"attribute",type:{type:"Reference",target:"../game/GameSystem/EnemyAttribute"}}]}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/storageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./util.ts"],(function(t){var a,s,e,i,n,o;return{setters:[function(t){a=t.createClass},function(t){s=t.cclegacy,e=t._decorator,i=t.sys,n=t.log},function(t){o=t.Util}],execute:function(){var r,c;s._RF.push({},"61941j8DFlHmKTwP2QgKM+/","storageManager",void 0);var h=e.ccclass;e.property,t("StorageManager",h("StorageManager")(((c=function(){function t(){this._jsonData={},this._path=null,this.KEY_CONFIG="template",this._markSave=!1,this._saveTimer=-1}var s=t.prototype;return s.start=function(){var t,a=this;(this._jsonData={userId:""},this._path=this._getConfigPath(),i.isNative)?t=jsb.fileUtils.getValueMapFromFile(this._path)[this.KEY_CONFIG]:t=i.localStorage.getItem(this.KEY_CONFIG);if(t&&t.length){t.startsWith("@")&&(t=t.substring(1),t=o.decrypt(t));try{var s=JSON.parse(t);this._jsonData=s}catch(t){}}this._saveTimer=setInterval((function(){a.scheduleSave()}),5e3)},s.setConfigDataWithoutSave=function(t,a){var s=this._jsonData.userId;this._jsonData[s]?this._jsonData[s][t]=a:console.error("no account can not save")},s.setConfigData=function(t,a){this.setConfigDataWithoutSave(t,a),this._markSave=!0},s.getConfigData=function(t){var a=this._jsonData.userId;if(this._jsonData[a]){var s=this._jsonData[a][t];return s||""}return n("no account can not load"),""},s.setGlobalData=function(t,a){this._jsonData[t]=a,this.save()},s.getGlobalData=function(t){return this._jsonData[t]},s.setUserId=function(t){this._jsonData.userId=t,this._jsonData[t]||(this._jsonData[t]={}),this.save()},s.getUserId=function(){return this._jsonData.userId},s.scheduleSave=function(){this._markSave&&this.save()},s.markModified=function(){this._markSave=!0},s.save=function(){var t=JSON.stringify(this._jsonData),a="@"+o.encrypt(t);if(this._markSave=!1,i.isNative){var s={};s[this.KEY_CONFIG]=a,jsb.fileUtils.writeToFile(s,this._path)}else{i.localStorage.setItem(this.KEY_CONFIG,a)}},s._getConfigPath=function(){var t=i.platform,a="";return t===i.OS.WINDOWS?a="src/conf":t===i.OS.LINUX?a="./conf":i.isNative?(a=jsb.fileUtils.getWritablePath(),a+="conf"):a="src/conf",a},a(t,null,[{key:"instance",get:function(){return this._instance||(this._instance=new t,this._instance.start()),this._instance}}]),t}())._instance=void 0,r=c))||r);s._RF.pop()}}}));

System.register("chunks:///_virtual/TweenPool.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"3ae7fog0iFKBZ1mwzAmyucb","TweenPool",void 0);e("TweenPool",function(){function e(){this._tweens=[]}var t=e.prototype;return t.add=function(e){this._tweens.push(e)},t.clear=function(){var e;null==(e=this._tweens)||e.forEach((function(e){return e.stop()})),this._tweens=[]},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/util.ts",["cc"],(function(e){var r,t;return{setters:[function(e){r=e.cclegacy,t=e._decorator}],execute:function(){var n;r._RF.push({},"59a28lq7xZHOKWwl3Hrnj/V","util",void 0);var o=t.ccclass;t.property,e("Util",o("Util")(n=function(){function e(){}return e.clone=function(e){if(null===e||"object"!=typeof e)return e;var r={};for(var t in e.constructor===Array&&(r=[]),e)e.hasOwnProperty(t)&&(r[t]=this.clone(e[t]));return r},e.objectToArray=function(e){var r=[];for(var t in e)e.hasOwnProperty(t)&&r.push(e[t]);return r},e.arrayToObject=function(e,r){var t={};for(var n in e)e.hasOwnProperty(n)&&e[n][r]&&(t[e[n][r]]=e[n]);return t},e.getWeightRandIndex=function(e,r){for(var t=Math.floor(Math.random()*r),n=0,o=0;o<e.length&&!(t<(n+=e[o]));o++);return o},e.getRandomNFromM=function(e,r){for(var t=[],n=0,o=0;o<r&&!(o>=e+1);){n=this.getRandomInt(0,e);for(var a=0,i=0;i<o;i++)if(t[i]===n){a=1;break}0===a&&(t[o]=n,o++)}return t},e.getRandomInt=function(e,r){var t=Math.random()*(r-e+1)+e;return Math.floor(t)},e.getStringLength=function(e){for(var r=e,t=0,n=0,o=r.length;n<o;n++){t+=r.charCodeAt(n)<=255?1:2}return Math.ceil(t/2)},e.isEmptyObject=function(e){var r=!0;if(e&&e.constructor===Object){for(var t in e)if(e.hasOwnProperty(t)){r=!1;break}}else r=!1;return r},e.isNewDay=function(e){var r=new Date(e),t=new Date,n=r.getYear(),o=r.getMonth(),a=r.getDate(),i=t.getYear(),f=t.getMonth(),u=t.getDate();return i>n||(f>o||u>a)},e.getPropertyCount=function(e){var r,t=0;for(r in e)e.hasOwnProperty(r)&&t++;return t},e.difference=function(e,r){var t=[];if(e.constructor!==Array||r.constructor!==Array)return t;for(var n=e.length,o=0;o<n;o++)-1===r.indexOf(e[o])&&t.push(e[o]);return t},e._stringToArray=function(e){var r,t="\\ufe0e\\ufe0f",n="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",o=RegExp("[\\u200d\\ud800-\\udfff"+n+t+"]"),a="\\ud83c[\\udffb-\\udfff]",i="[\\ufe0e\\ufe0f]?",f="["+n+"]",u="(?:"+f+"|"+a+")"+"?",h="[\\ud800-\\udfff]",c="[^\\ud800-\\udfff]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",d="[\\ud800-\\udbff][\\udc00-\\udfff]",l=i+u+("(?:\\u200d(?:"+[c,g,d].join("|")+")"+i+u+")*"),s="(?:"+[c+f+"?",f,g,d,h].join("|")+")",v=RegExp(a+"(?="+a+")|"+s+l,"g");return r=e,o.test(r)?function(e){return e.match(v)||[]}(e):function(e){return e.split("")}(e)},e.simulationUUID=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.trim=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},e.isNowValid=function(e,r){var t=new Date(e),n=new Date(r),o=!1;if("NaN"!==String(t.getDate())&&"NaN"!==String(n.getDate())){var a=new Date;o=a<n&&a>t}return o},e.getDeltaDays=function(e,r){e=new Date(e),r=new Date(r);var t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=r.getFullYear(),i=r.getMonth()+1,f=r.getDate();e=new Date(t+"/"+n+"/"+o+" GMT+0800").getTime();var u=(r=new Date(a+"/"+i+"/"+f+" GMT+0800").getTime())-e;return Math.floor(u/864e5)},e.getMin=function(e){var r=null;if(e.constructor===Array)for(var t=e.length,n=0;n<t;n++)r=0===n?Number(e[0]):r>Number(e[n])?Number(e[n]):r;return r},e.formatTwoDigits=function(e){return(Array(2).join(0)+e).slice(-2)},e.formatDate=function(e,r){var t={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(r)&&(r=r.replace(RegExp.$1,String(e.getFullYear()).substr(4-RegExp.$1.length))),t)new RegExp("("+n+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?t[n]:("00"+t[n]).substr(String(t[n]).length)));return r},e.getDay=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},e.formatName=function(e,r){r=r||6;var t=this._stringToArray(e),n="";if(t.length>r){for(var o=0;o<r;o++)n+=t[o];n+="..."}else n=e;return n},e.formatMoney=function(e){for(var r=["","K","M","G","T","P","E","Z","Y","B","N","D"],t="",n=0;n<r.length;n++){if(!(e>=1e4)){t=Math.floor(e)+r[n];break}e/=1e3}return""===t&&(t=Math.floor(e)+"U"),t},e.formatValue=function(e){for(var r=[],t="",n=0;n<26;n++)r.push(String.fromCharCode(97+n));for(var o=0;o<r.length;o++){if(!(e>=1e4)){t=Math.floor(e)+r[o];break}e/=1e3}return t},e.formatTimeForSecond=function(e,r){void 0===r&&(r=!1);var t="",n=e%60,o=Math.floor(e/60);o=o<0?0:o;var a=Math.floor(o/60),i=o%60;return a>0?(t+=a>9?a.toString():"0"+a,t+=":"):t+="00:",t+=i>9?i.toString():"0"+i,r||(t+=":",t+=n>9?n.toString():"0"+n),t},e.formatTimeForMillisecond=function(e){var r=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60);return{hour:Math.floor(e/1e3/60/60),minute:t,second:r}},e.rand=function(e){for(var r=this.clone(e),t=r.length-1;t>=0;t--){var n=Math.floor(Math.random()*(t+1)),o=r[n];r[n]=r[t],r[t]=o}return r},e.getOffsetMimutes=function(e,r){var t=r-e;return Math.floor(t%36e5/6e4)},e.formatNumToFixed=function(e,r){return void 0===r&&(r=0),Number(e.toFixed(r))},e.lerp=function(e,r,t){void 0===t&&(t=.25);var n=r;return e>r?n=r+(e-r)*t:e<r&&(n=r-(r-e)*t),n},e.decrypt=function(e){var r=6;e.length%2==0&&(r=7);for(var t="",n=0;n<e.length-r;n+=2)t+=e[n+1],t+=e[n];return t+=e.slice(e.length-r+1),t=this._base64Decode(t)},e.encrypt=function(e){var r=this._base64encode(e),t=6;r.length%2==0&&(t=7);for(var n="",o=0;o<(r.length-t+1)/2;o++)n+=r[2*o+1],n+=r[2*o];return n+=r.slice(r.length-t+1)},e._base64encode=function(e){var r,t,n,o,a,i,f,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="",c=0;for(e=this._utf8Encode(e);c<e.length;)o=(r=e.charCodeAt(c++))>>2,a=(3&r)<<4|(t=e.charCodeAt(c++))>>4,i=(15&t)<<2|(n=e.charCodeAt(c++))>>6,f=63&n,isNaN(t)?i=f=64:isNaN(n)&&(f=64),h=h+u.charAt(o)+u.charAt(a)+u.charAt(i)+u.charAt(f);return h},e._utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var r="",t=0;t<e.length;t++){var n=e.charCodeAt(t);n<128?r+=String.fromCharCode(n):n>127&&n<2048?(r+=String.fromCharCode(n>>6|192),r+=String.fromCharCode(63&n|128)):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128),r+=String.fromCharCode(63&n|128))}return r},e._utf8Decode=function(e){for(var r="",t=0,n=0,o=0,a=0;t<e.length;)(n=e.charCodeAt(t))<128?(r+=String.fromCharCode(n),t++):n>191&&n<224?(o=e.charCodeAt(t+1),r+=String.fromCharCode((31&n)<<6|63&o),t+=2):(o=e.charCodeAt(t+1),a=e.charCodeAt(t+2),r+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&a),t+=3);return r},e._base64Decode=function(e){var r,t,n,o,a,i,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u="",h=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)r=f.indexOf(e.charAt(h++))<<2|(o=f.indexOf(e.charAt(h++)))>>4,t=(15&o)<<4|(a=f.indexOf(e.charAt(h++)))>>2,n=(3&a)<<6|(i=f.indexOf(e.charAt(h++))),u+=String.fromCharCode(r),64!=a&&(u+=String.fromCharCode(t)),64!=i&&(u+=String.fromCharCode(n));return u=this._utf8Decode(u)},e.checkIsLowPhone=function(){if(window.wx){var e=-1,r=window.wx.getSystemInfoSync();if(r.system.indexOf("iOS")>=0){for(var t=r.model,n=["iPhone1,1","iPhone1,2","iPhone2,1","iPhone3,1","iPhone3,3","iPhone4,1","iPhone5,1","iPhone5,2","iPhone5,3","iPhone5,4","iPhone6,1","iPhone6,2"],o=["iPhone6,2","iPhone7,1","iPhone7,2","iPhone8,1","iPhone8,2","iPhone8,4"],a=["iPhone9,1","iPhone9,2","iPhone9,3","iPhone9,4","iPhone10,1","iPhone10,2","iPhone10,3","iPhone10,4","iPhone10,5","iPhone10,6","iPhone XS"],i=["iPhone11,2","iPhone11,4","iPhone11,6","iPhone11,8","iPhone12,1","iPhone12,3","iPhone12,5","iPhone12,8","iPhone13 ","iPhone 14"],f=0;f<n.length;f++)t.indexOf(n[f])>=0&&(e=5);for(var u=0;u<o.length;u++)t.indexOf(o[u])>=0&&(e=10);for(var h=0;h<a.length;h++)t.indexOf(a[h])>=0&&(e=20);for(var c=0;c<i.length;c++)t.indexOf(i[c])>=0&&(e=30)}else e=r.benchmarkLevel;return e<22}return!1},e}())||n);r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});